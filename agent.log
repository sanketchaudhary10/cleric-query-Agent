2024-12-09 16:01:14,143 INFO - Generated answer: There are 1 nodes in the cluster.
2024-12-09 16:01:14,144 INFO - 127.0.0.1 - - [09/Dec/2024 16:01:14] "POST /query HTTP/1.1" 200 -
2024-12-09 16:01:14,156 INFO - Received query: Which pods belong to bot-deployment?
2024-12-09 16:01:14,156 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:01:14,156 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"Which pods belong to bot-deployment?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:01:16,844 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2506 request_id=req_5b3cd53328aa4296c1a9b074a2e7258d response_code=200
2024-12-09 16:01:16,844 INFO - GPT-4 Response: {
    "intents": {
        "pods": true,
        "namespace": false,
        "status": false,
        "deployments": true,
        "logs": false
    },
    "keywords": ["bot-deployment"]
}
2024-12-09 16:01:16,844 INFO - Parsed Intents: {'pods': True, 'namespace': False, 'status': False, 'deployments': True, 'logs': False}
2024-12-09 16:01:16,844 INFO - Parsed Keywords: ['bot-deployment']
2024-12-09 16:01:16,856 DEBUG - response body: {"kind":"Deployment","apiVersion":"apps/v1","metadata":{"name":"bot-deployment","namespace":"default","uid":"538f8a37-4c8d-4ebb-89c9-c0cc6c5d5b5f","resourceVersion":"46595","generation":1,"creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment"},"annotations":{"deployment.kubernetes.io/revision":"1"},"managedFields":[{"manager":"kubectl-create","operation":"Update","apiVersion":"apps/v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:progressDeadlineSeconds":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{},"f:strategy":{"f:rollingUpdate":{".":{},"f:maxSurge":{},"f:maxUnavailable":{}},"f:type":{}},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2024-12-09T18:30:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:deployment.kubernetes.io/revision":{}}},"f:status":{"f:availableReplicas":{},"f:conditions":{".":{},"k:{\"type\":\"Available\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Progressing\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updatedReplicas":{}}},"subresource":"status"}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"bot-deployment"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"bot-deployment"}},"spec":{"containers":[{"name":"nginx","image":"nginx","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":"25%","maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{"observedGeneration":1,"replicas":1,"updatedReplicas":1,"readyReplicas":1,"availableReplicas":1,"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2024-12-08T18:40:58Z","lastTransitionTime":"2024-12-08T18:40:48Z","reason":"NewReplicaSetAvailable","message":"ReplicaSet \"bot-deployment-66d64568bb\" has successfully progressed."},{"type":"Available","status":"True","lastUpdateTime":"2024-12-09T18:30:10Z","lastTransitionTime":"2024-12-09T18:30:10Z","reason":"MinimumReplicasAvailable","message":"Deployment has minimum availability."}]}}

2024-12-09 16:01:16,860 INFO - Label selector for deployment 'bot-deployment': app=bot-deployment
2024-12-09 16:01:16,876 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56018"},"items":[{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:01:16,883 INFO - Pods found for deployment 'bot-deployment': ['bot-deployment-66d64568bb-mc4h2']
2024-12-09 16:01:16,884 INFO - Generated answer: bot-deployment
2024-12-09 16:01:16,884 INFO - 127.0.0.1 - - [09/Dec/2024 16:01:16] "POST /query HTTP/1.1" 200 -
2024-12-09 16:01:16,894 INFO - Received query: What is the status of pods in the deployment bot-deployment?
2024-12-09 16:01:16,894 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:01:16,894 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"What is the status of pods in the deployment bot-deployment?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:01:18,934 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=1869 request_id=req_a2eb5329da108b5750233798f0092d6f response_code=200
2024-12-09 16:01:18,934 INFO - GPT-4 Response: 
    {
        "intents": {
            "pods": true,
            "namespace": false,
            "status": true,
            "deployments": true,
            "logs": false
        },
        "keywords": ["bot-deployment"]
    }
2024-12-09 16:01:18,934 INFO - Parsed Intents: {'pods': True, 'namespace': False, 'status': True, 'deployments': True, 'logs': False}
2024-12-09 16:01:18,934 INFO - Parsed Keywords: ['bot-deployment']
2024-12-09 16:01:19,049 DEBUG - response body: {"kind":"Deployment","apiVersion":"apps/v1","metadata":{"name":"bot-deployment","namespace":"default","uid":"538f8a37-4c8d-4ebb-89c9-c0cc6c5d5b5f","resourceVersion":"46595","generation":1,"creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment"},"annotations":{"deployment.kubernetes.io/revision":"1"},"managedFields":[{"manager":"kubectl-create","operation":"Update","apiVersion":"apps/v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:progressDeadlineSeconds":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{},"f:strategy":{"f:rollingUpdate":{".":{},"f:maxSurge":{},"f:maxUnavailable":{}},"f:type":{}},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2024-12-09T18:30:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:deployment.kubernetes.io/revision":{}}},"f:status":{"f:availableReplicas":{},"f:conditions":{".":{},"k:{\"type\":\"Available\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Progressing\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updatedReplicas":{}}},"subresource":"status"}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"bot-deployment"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"bot-deployment"}},"spec":{"containers":[{"name":"nginx","image":"nginx","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":"25%","maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{"observedGeneration":1,"replicas":1,"updatedReplicas":1,"readyReplicas":1,"availableReplicas":1,"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2024-12-08T18:40:58Z","lastTransitionTime":"2024-12-08T18:40:48Z","reason":"NewReplicaSetAvailable","message":"ReplicaSet \"bot-deployment-66d64568bb\" has successfully progressed."},{"type":"Available","status":"True","lastUpdateTime":"2024-12-09T18:30:10Z","lastTransitionTime":"2024-12-09T18:30:10Z","reason":"MinimumReplicasAvailable","message":"Deployment has minimum availability."}]}}

2024-12-09 16:01:19,052 INFO - Label selector for deployment 'bot-deployment': app=bot-deployment
2024-12-09 16:01:19,070 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56020"},"items":[{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:01:19,075 INFO - Pods found for deployment 'bot-deployment': ['bot-deployment-66d64568bb-mc4h2']
2024-12-09 16:01:19,075 INFO - Generated answer: bot-deployment
2024-12-09 16:01:19,075 INFO - 127.0.0.1 - - [09/Dec/2024 16:01:19] "POST /query HTTP/1.1" 200 -
2024-12-09 16:01:19,082 INFO - Received query: What is?
2024-12-09 16:01:19,082 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:01:19,082 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"What is?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:01:22,444 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=3218 request_id=req_10105c6dac4f7e034c356cda357419b6 response_code=200
2024-12-09 16:01:22,445 INFO - GPT-4 Response: {
    "intents": {
        "pods": false,
        "namespace": false,
        "status": false,
        "deployments": false,
        "logs": false
    },
    "keywords": []
}
2024-12-09 16:01:22,445 INFO - Extracted Kubernetes Names: ['what']
2024-12-09 16:01:22,446 WARNING - Keywords extracted using fallback regex method.
2024-12-09 16:01:22,446 INFO - Parsed Intents: {'pods': False, 'namespace': False, 'status': False, 'deployments': False, 'logs': False}
2024-12-09 16:01:22,446 INFO - Parsed Keywords: ['what']
2024-12-09 16:01:22,446 INFO - Generated answer: I'm sorry, I couldn't understand your query. Please try rephrasing.
2024-12-09 16:01:22,446 INFO - 127.0.0.1 - - [09/Dec/2024 16:01:22] "POST /query HTTP/1.1" 200 -
2024-12-09 16:01:22,451 INFO - Received query: 
2024-12-09 16:01:22,451 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:01:22,452 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:01:26,221 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=3530 request_id=req_3baddc25a24dbc38b15a5d73c74c568a response_code=200
2024-12-09 16:01:26,221 INFO - GPT-4 Response: {
    "intents": {
        "pods": false,
        "namespace": false,
        "status": false,
        "deployments": false,
        "logs": false
    },
    "keywords": []
}
2024-12-09 16:01:26,221 INFO - Extracted Kubernetes Names: []
2024-12-09 16:01:26,221 WARNING - Keywords extracted using fallback regex method.
2024-12-09 16:01:26,221 INFO - Parsed Intents: {'pods': False, 'namespace': False, 'status': False, 'deployments': False, 'logs': False}
2024-12-09 16:01:26,221 INFO - Parsed Keywords: []
2024-12-09 16:01:26,221 INFO - Generated answer: I'm sorry, I couldn't understand your query. Please try rephrasing.
2024-12-09 16:01:26,221 INFO - 127.0.0.1 - - [09/Dec/2024 16:01:26] "POST /query HTTP/1.1" 200 -
2024-12-09 16:01:26,224 INFO - Received query: How amny pods are in the namespace dev?
2024-12-09 16:01:26,224 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:01:26,224 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"How amny pods are in the namespace dev?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:01:28,555 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2181 request_id=req_1bf57d45225986c9c61b1df46181424b response_code=200
2024-12-09 16:01:28,555 INFO - GPT-4 Response: {
    "intents": {
        "pods": true,
        "namespace": true,
        "status": false,
        "deployments": false,
        "logs": false
    },
    "keywords": ["namespace dev"]
}
2024-12-09 16:01:28,555 INFO - Parsed Intents: {'pods': True, 'namespace': True, 'status': False, 'deployments': False, 'logs': False}
2024-12-09 16:01:28,555 INFO - Parsed Keywords: ['namespace dev']
2024-12-09 16:01:28,565 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56026"},"items":[{"metadata":{"name":"apple","namespace":"default","uid":"eb4be5c6-2187-424d-8786-94273caa533f","resourceVersion":"52777","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app1"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app1\"},\"name\":\"apple\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"nginx:1.21.6\",\"name\":\"container1\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container1\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.67\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-hlzcw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container1","image":"nginx:1.21.6","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-hlzcw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.67","podIPs":[{"ip":"10.244.0.67"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container1","state":{"running":{"startedAt":"2024-12-09T20:55:12Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://7b316c3472e08859a1423f7bf838b977b7ffabcb6031edba94fda9d24b49c9be"}},"ready":true,"restartCount":10,"image":"nginx:1.21.6","imageID":"docker-pullable://nginx@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514","containerID":"docker://895a39d42c34c1d64e29e2a9b93edef46aee8f18e44b6a35fa3ed0fcb39fea20","started":true,"volumeMounts":[{"name":"kube-api-access-hlzcw","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"orange","namespace":"default","uid":"afec77fc-8ede-4af6-9280-834023f56049","resourceVersion":"52797","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app2"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app2\"},\"name\":\"orange\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"httpd:2.4\",\"name\":\"container2\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container2\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.69\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jfn99","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container2","image":"httpd:2.4","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-jfn99","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.69","podIPs":[{"ip":"10.244.0.69"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container2","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://a3bd61c8956ce31dfefb22a25e142a765ef63a601a4a2b8efe668d9cfbf14185"}},"ready":true,"restartCount":10,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://163d7e570a88da42df5491c21b332b33c58dc3fb372c07dcd6e221f5be9f8941","started":true,"volumeMounts":[{"name":"kube-api-access-jfn99","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"52792","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.66\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.66","podIPs":[{"ip":"10.244.0.66"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5050bd4dc189e950abceb0dd30d46413b203dcb65ac3c4ae767d2708e1514c58"}},"ready":true,"restartCount":7,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://93fd925630a021bbf3aea1691c3a8bc3db9f47d15dcebc7ffc072628be3d03fc","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:01:28,576 INFO - Generated answer: 4 pods in the default namespace.
2024-12-09 16:01:28,577 INFO - 127.0.0.1 - - [09/Dec/2024 16:01:28] "POST /query HTTP/1.1" 200 -
2024-12-09 16:10:20,802 INFO - Kubernetes configuration initialized successfully.
2024-12-09 16:10:20,892 INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://10.0.0.113:8000
2024-12-09 16:10:20,892 INFO - [33mPress CTRL+C to quit[0m
2024-12-09 16:10:27,265 INFO - Received query: How many pods are in the default namespace?
2024-12-09 16:10:27,274 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:10:27,274 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"How many pods are in the default namespace?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:10:30,469 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2784 request_id=req_b65f18afacc2771021978ea800063219 response_code=200
2024-12-09 16:10:30,473 INFO - GPT-4 Response: 
{
    "intents": {
        "pods": true,
        "namespace": true,
        "status": false,
        "deployments": false,
        "logs": false
    },
    "keywords": ["pods", "default namespace"]
}
2024-12-09 16:10:30,473 INFO - Parsed Intents: {'pods': True, 'namespace': True, 'status': False, 'deployments': False, 'logs': False}
2024-12-09 16:10:30,473 INFO - Parsed Keywords: ['pods', 'default namespace']
2024-12-09 16:10:30,482 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56461"},"items":[]}

2024-12-09 16:10:30,483 INFO - Generated answer: There are 0 pods in the pods namespace.
2024-12-09 16:10:30,485 INFO - 127.0.0.1 - - [09/Dec/2024 16:10:30] "POST /query HTTP/1.1" 200 -
2024-12-09 16:10:30,489 INFO - Received query: What is the status of all pods?
2024-12-09 16:10:30,489 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:10:30,489 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"What is the status of all pods?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:10:33,476 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2724 request_id=req_9811ba571ad161158e7fb2909b33145c response_code=200
2024-12-09 16:10:33,476 INFO - GPT-4 Response: {
    "intents": {
        "pods": true,
        "namespace": false,
        "status": true,
        "deployments": false,
        "logs": false
    },
    "keywords": ["status", "all pods"]
}
2024-12-09 16:10:33,476 INFO - Parsed Intents: {'pods': True, 'namespace': False, 'status': True, 'deployments': False, 'logs': False}
2024-12-09 16:10:33,476 INFO - Parsed Keywords: ['status', 'all pods']
2024-12-09 16:10:33,486 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56464"},"items":[{"metadata":{"name":"apple","namespace":"default","uid":"eb4be5c6-2187-424d-8786-94273caa533f","resourceVersion":"52777","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app1"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app1\"},\"name\":\"apple\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"nginx:1.21.6\",\"name\":\"container1\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container1\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.67\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-hlzcw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container1","image":"nginx:1.21.6","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-hlzcw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.67","podIPs":[{"ip":"10.244.0.67"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container1","state":{"running":{"startedAt":"2024-12-09T20:55:12Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://7b316c3472e08859a1423f7bf838b977b7ffabcb6031edba94fda9d24b49c9be"}},"ready":true,"restartCount":10,"image":"nginx:1.21.6","imageID":"docker-pullable://nginx@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514","containerID":"docker://895a39d42c34c1d64e29e2a9b93edef46aee8f18e44b6a35fa3ed0fcb39fea20","started":true,"volumeMounts":[{"name":"kube-api-access-hlzcw","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"orange","namespace":"default","uid":"afec77fc-8ede-4af6-9280-834023f56049","resourceVersion":"52797","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app2"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app2\"},\"name\":\"orange\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"httpd:2.4\",\"name\":\"container2\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container2\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.69\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jfn99","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container2","image":"httpd:2.4","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-jfn99","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.69","podIPs":[{"ip":"10.244.0.69"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container2","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://a3bd61c8956ce31dfefb22a25e142a765ef63a601a4a2b8efe668d9cfbf14185"}},"ready":true,"restartCount":10,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://163d7e570a88da42df5491c21b332b33c58dc3fb372c07dcd6e221f5be9f8941","started":true,"volumeMounts":[{"name":"kube-api-access-jfn99","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"52792","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.66\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.66","podIPs":[{"ip":"10.244.0.66"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5050bd4dc189e950abceb0dd30d46413b203dcb65ac3c4ae767d2708e1514c58"}},"ready":true,"restartCount":7,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://93fd925630a021bbf3aea1691c3a8bc3db9f47d15dcebc7ffc072628be3d03fc","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:10:33,497 INFO - Generated answer: Status: apple is Running, bot-deployment-66d64568bb-mc4h2 is Running, orange is Running, website-deployment-dbc8b97cd-9ndzm is Running
2024-12-09 16:10:33,498 INFO - 127.0.0.1 - - [09/Dec/2024 16:10:33] "POST /query HTTP/1.1" 200 -
2024-12-09 16:10:33,502 INFO - Received query: How many nodes are in the cluster?
2024-12-09 16:10:33,502 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:10:33,502 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"How many nodes are in the cluster?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:10:37,412 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=3503 request_id=req_e420ccbbcaf61a5646a6af4b41ff9296 response_code=200
2024-12-09 16:10:37,412 INFO - GPT-4 Response: 
    {
        "intents": {
            "pods": false,
            "namespace": false,
            "status": false,
            "deployments": false,
            "logs": false
        },
        "keywords": ["nodes", "cluster"]
    }
2024-12-09 16:10:37,412 INFO - Parsed Intents: {'pods': False, 'namespace': False, 'status': False, 'deployments': False, 'logs': False}
2024-12-09 16:10:37,412 INFO - Parsed Keywords: ['nodes', 'cluster']
2024-12-09 16:10:37,422 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56465"},"items":[{"metadata":{"name":"apple","namespace":"default","uid":"eb4be5c6-2187-424d-8786-94273caa533f","resourceVersion":"52777","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app1"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app1\"},\"name\":\"apple\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"nginx:1.21.6\",\"name\":\"container1\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container1\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.67\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-hlzcw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container1","image":"nginx:1.21.6","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-hlzcw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.67","podIPs":[{"ip":"10.244.0.67"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container1","state":{"running":{"startedAt":"2024-12-09T20:55:12Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://7b316c3472e08859a1423f7bf838b977b7ffabcb6031edba94fda9d24b49c9be"}},"ready":true,"restartCount":10,"image":"nginx:1.21.6","imageID":"docker-pullable://nginx@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514","containerID":"docker://895a39d42c34c1d64e29e2a9b93edef46aee8f18e44b6a35fa3ed0fcb39fea20","started":true,"volumeMounts":[{"name":"kube-api-access-hlzcw","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"orange","namespace":"default","uid":"afec77fc-8ede-4af6-9280-834023f56049","resourceVersion":"52797","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app2"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app2\"},\"name\":\"orange\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"httpd:2.4\",\"name\":\"container2\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container2\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.69\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jfn99","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container2","image":"httpd:2.4","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-jfn99","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.69","podIPs":[{"ip":"10.244.0.69"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container2","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://a3bd61c8956ce31dfefb22a25e142a765ef63a601a4a2b8efe668d9cfbf14185"}},"ready":true,"restartCount":10,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://163d7e570a88da42df5491c21b332b33c58dc3fb372c07dcd6e221f5be9f8941","started":true,"volumeMounts":[{"name":"kube-api-access-jfn99","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"52792","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.66\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.66","podIPs":[{"ip":"10.244.0.66"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5050bd4dc189e950abceb0dd30d46413b203dcb65ac3c4ae767d2708e1514c58"}},"ready":true,"restartCount":7,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://93fd925630a021bbf3aea1691c3a8bc3db9f47d15dcebc7ffc072628be3d03fc","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:10:37,433 INFO - Generated answer: There are 1 nodes in the cluster.
2024-12-09 16:10:37,434 INFO - 127.0.0.1 - - [09/Dec/2024 16:10:37] "POST /query HTTP/1.1" 200 -
2024-12-09 16:10:37,437 INFO - Received query: How many restarts has the pod bot-deployment experienced?
2024-12-09 16:10:37,438 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:10:37,438 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"How many restarts has the pod bot-deployment experienced?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:10:40,888 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=3287 request_id=req_5f4c752c02d1be1db1131f24cfc7cd04 response_code=200
2024-12-09 16:10:40,888 INFO - GPT-4 Response: 
    {
        "intents": {
            "pods": true,
            "namespace": false,
            "status": false,
            "deployments": true,
            "logs": false
        },
        "keywords": ["restarts", "bot-deployment"]
    }
2024-12-09 16:10:40,888 INFO - Parsed Intents: {'pods': True, 'namespace': False, 'status': False, 'deployments': True, 'logs': False}
2024-12-09 16:10:40,888 INFO - Parsed Keywords: ['restarts', 'bot-deployment']
2024-12-09 16:10:40,888 INFO - Fetching restart count for pod: bot-deployment in namespace: default
2024-12-09 16:10:40,898 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56469"},"items":[{"metadata":{"name":"apple","namespace":"default","uid":"eb4be5c6-2187-424d-8786-94273caa533f","resourceVersion":"52777","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app1"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app1\"},\"name\":\"apple\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"nginx:1.21.6\",\"name\":\"container1\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container1\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.67\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-hlzcw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container1","image":"nginx:1.21.6","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-hlzcw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.67","podIPs":[{"ip":"10.244.0.67"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container1","state":{"running":{"startedAt":"2024-12-09T20:55:12Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://7b316c3472e08859a1423f7bf838b977b7ffabcb6031edba94fda9d24b49c9be"}},"ready":true,"restartCount":10,"image":"nginx:1.21.6","imageID":"docker-pullable://nginx@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514","containerID":"docker://895a39d42c34c1d64e29e2a9b93edef46aee8f18e44b6a35fa3ed0fcb39fea20","started":true,"volumeMounts":[{"name":"kube-api-access-hlzcw","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"orange","namespace":"default","uid":"afec77fc-8ede-4af6-9280-834023f56049","resourceVersion":"52797","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app2"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app2\"},\"name\":\"orange\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"httpd:2.4\",\"name\":\"container2\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container2\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.69\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jfn99","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container2","image":"httpd:2.4","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-jfn99","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.69","podIPs":[{"ip":"10.244.0.69"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container2","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://a3bd61c8956ce31dfefb22a25e142a765ef63a601a4a2b8efe668d9cfbf14185"}},"ready":true,"restartCount":10,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://163d7e570a88da42df5491c21b332b33c58dc3fb372c07dcd6e221f5be9f8941","started":true,"volumeMounts":[{"name":"kube-api-access-jfn99","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"52792","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.66\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.66","podIPs":[{"ip":"10.244.0.66"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5050bd4dc189e950abceb0dd30d46413b203dcb65ac3c4ae767d2708e1514c58"}},"ready":true,"restartCount":7,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://93fd925630a021bbf3aea1691c3a8bc3db9f47d15dcebc7ffc072628be3d03fc","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:10:40,908 INFO - Found pod 'bot-deployment-66d64568bb-mc4h2' (trimmed to 'bot-deployment'). Restarts: 7
2024-12-09 16:10:40,909 INFO - Generated answer: [bot-deployment restarted 7 times]
2024-12-09 16:10:40,909 INFO - 127.0.0.1 - - [09/Dec/2024 16:10:40] "POST /query HTTP/1.1" 200 -
2024-12-09 16:10:40,913 INFO - Received query: Which pod is spawned by website-deployment?
2024-12-09 16:10:40,913 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:10:40,913 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"Which pod is spawned by website-deployment?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:10:44,691 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=3588 request_id=req_42662c3808f8d71bdbe2d22c1bd97444 response_code=200
2024-12-09 16:10:44,691 INFO - GPT-4 Response: 
    {
        "intents": {
            "pods": true,
            "namespace": false,
            "status": false,
            "deployments": true,
            "logs": false
        },
        "keywords": ["website-deployment"]
    }
2024-12-09 16:10:44,691 INFO - Parsed Intents: {'pods': True, 'namespace': False, 'status': False, 'deployments': True, 'logs': False}
2024-12-09 16:10:44,691 INFO - Parsed Keywords: ['website-deployment']
2024-12-09 16:10:44,700 DEBUG - response body: {"kind":"Deployment","apiVersion":"apps/v1","metadata":{"name":"website-deployment","namespace":"default","uid":"50ca44a8-4c26-4baf-b6d7-0f5b226d875c","resourceVersion":"51513","generation":1,"creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment"},"annotations":{"deployment.kubernetes.io/revision":"1"},"managedFields":[{"manager":"kubectl-create","operation":"Update","apiVersion":"apps/v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:progressDeadlineSeconds":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{},"f:strategy":{"f:rollingUpdate":{".":{},"f:maxSurge":{},"f:maxUnavailable":{}},"f:type":{}},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2024-12-09T20:10:21Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:deployment.kubernetes.io/revision":{}}},"f:status":{"f:availableReplicas":{},"f:conditions":{".":{},"k:{\"type\":\"Available\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Progressing\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updatedReplicas":{}}},"subresource":"status"}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"website-deployment"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"website-deployment"}},"spec":{"containers":[{"name":"httpd","image":"httpd","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":"25%","maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{"observedGeneration":1,"replicas":1,"updatedReplicas":1,"readyReplicas":1,"availableReplicas":1,"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2024-12-08T18:40:59Z","lastTransitionTime":"2024-12-08T18:40:56Z","reason":"NewReplicaSetAvailable","message":"ReplicaSet \"website-deployment-dbc8b97cd\" has successfully progressed."},{"type":"Available","status":"True","lastUpdateTime":"2024-12-09T20:10:21Z","lastTransitionTime":"2024-12-09T20:10:21Z","reason":"MinimumReplicasAvailable","message":"Deployment has minimum availability."}]}}

2024-12-09 16:10:44,703 INFO - Label selector for deployment 'website-deployment': app=website-deployment
2024-12-09 16:10:44,712 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56472"},"items":[{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"52792","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.66\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.66","podIPs":[{"ip":"10.244.0.66"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5050bd4dc189e950abceb0dd30d46413b203dcb65ac3c4ae767d2708e1514c58"}},"ready":true,"restartCount":7,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://93fd925630a021bbf3aea1691c3a8bc3db9f47d15dcebc7ffc072628be3d03fc","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:10:44,715 INFO - Pods found for deployment 'website-deployment': ['website-deployment-dbc8b97cd-9ndzm']
2024-12-09 16:10:44,716 INFO - Generated answer: 
2024-12-09 16:10:44,717 INFO - 127.0.0.1 - - [09/Dec/2024 16:10:44] "POST /query HTTP/1.1" 200 -
2024-12-09 16:10:44,720 INFO - Received query: What is the status of the pod named 'orange'?
2024-12-09 16:10:44,720 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:10:44,721 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"What is the status of the pod named \'orange\'?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:10:48,441 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=3576 request_id=req_473eee862e149fe17d7e52fe99392a21 response_code=200
2024-12-09 16:10:48,442 INFO - GPT-4 Response: {
    "intents": {
        "pods": true,
        "namespace": false,
        "status": true,
        "deployments": false,
        "logs": false
    },
    "keywords": ["orange"]
}
2024-12-09 16:10:48,442 INFO - Parsed Intents: {'pods': True, 'namespace': False, 'status': True, 'deployments': False, 'logs': False}
2024-12-09 16:10:48,442 INFO - Parsed Keywords: ['orange']
2024-12-09 16:10:48,452 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56474"},"items":[{"metadata":{"name":"apple","namespace":"default","uid":"eb4be5c6-2187-424d-8786-94273caa533f","resourceVersion":"52777","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app1"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app1\"},\"name\":\"apple\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"nginx:1.21.6\",\"name\":\"container1\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container1\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.67\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-hlzcw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container1","image":"nginx:1.21.6","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-hlzcw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.67","podIPs":[{"ip":"10.244.0.67"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container1","state":{"running":{"startedAt":"2024-12-09T20:55:12Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://7b316c3472e08859a1423f7bf838b977b7ffabcb6031edba94fda9d24b49c9be"}},"ready":true,"restartCount":10,"image":"nginx:1.21.6","imageID":"docker-pullable://nginx@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514","containerID":"docker://895a39d42c34c1d64e29e2a9b93edef46aee8f18e44b6a35fa3ed0fcb39fea20","started":true,"volumeMounts":[{"name":"kube-api-access-hlzcw","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"orange","namespace":"default","uid":"afec77fc-8ede-4af6-9280-834023f56049","resourceVersion":"52797","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app2"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app2\"},\"name\":\"orange\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"httpd:2.4\",\"name\":\"container2\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container2\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.69\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jfn99","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container2","image":"httpd:2.4","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-jfn99","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.69","podIPs":[{"ip":"10.244.0.69"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container2","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://a3bd61c8956ce31dfefb22a25e142a765ef63a601a4a2b8efe668d9cfbf14185"}},"ready":true,"restartCount":10,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://163d7e570a88da42df5491c21b332b33c58dc3fb372c07dcd6e221f5be9f8941","started":true,"volumeMounts":[{"name":"kube-api-access-jfn99","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"52792","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.66\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.66","podIPs":[{"ip":"10.244.0.66"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5050bd4dc189e950abceb0dd30d46413b203dcb65ac3c4ae767d2708e1514c58"}},"ready":true,"restartCount":7,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://93fd925630a021bbf3aea1691c3a8bc3db9f47d15dcebc7ffc072628be3d03fc","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:10:48,463 INFO - Generated answer: 'orange' is 'Running'.
2024-12-09 16:10:48,463 INFO - 127.0.0.1 - - [09/Dec/2024 16:10:48] "POST /query HTTP/1.1" 200 -
2024-12-09 16:10:48,467 INFO - Received query: Which nodes are the pods running on in the cluster?
2024-12-09 16:10:48,467 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:10:48,467 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"Which nodes are the pods running on in the cluster?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:10:52,293 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=3608 request_id=req_093ef249446b93959acd9636ff613863 response_code=200
2024-12-09 16:10:52,293 INFO - GPT-4 Response: 
    {
        "intents": {
            "pods": true,
            "namespace": false,
            "status": false,
            "deployments": false,
            "logs": false
        },
        "keywords": ["nodes", "running", "cluster"]
    }
2024-12-09 16:10:52,294 INFO - Parsed Intents: {'pods': True, 'namespace': False, 'status': False, 'deployments': False, 'logs': False}
2024-12-09 16:10:52,294 INFO - Parsed Keywords: ['nodes', 'running', 'cluster']
2024-12-09 16:10:52,304 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56478"},"items":[{"metadata":{"name":"apple","namespace":"default","uid":"eb4be5c6-2187-424d-8786-94273caa533f","resourceVersion":"52777","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app1"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app1\"},\"name\":\"apple\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"nginx:1.21.6\",\"name\":\"container1\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container1\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.67\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-hlzcw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container1","image":"nginx:1.21.6","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-hlzcw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.67","podIPs":[{"ip":"10.244.0.67"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container1","state":{"running":{"startedAt":"2024-12-09T20:55:12Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://7b316c3472e08859a1423f7bf838b977b7ffabcb6031edba94fda9d24b49c9be"}},"ready":true,"restartCount":10,"image":"nginx:1.21.6","imageID":"docker-pullable://nginx@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514","containerID":"docker://895a39d42c34c1d64e29e2a9b93edef46aee8f18e44b6a35fa3ed0fcb39fea20","started":true,"volumeMounts":[{"name":"kube-api-access-hlzcw","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"orange","namespace":"default","uid":"afec77fc-8ede-4af6-9280-834023f56049","resourceVersion":"52797","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app2"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app2\"},\"name\":\"orange\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"httpd:2.4\",\"name\":\"container2\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container2\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.69\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jfn99","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container2","image":"httpd:2.4","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-jfn99","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.69","podIPs":[{"ip":"10.244.0.69"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container2","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://a3bd61c8956ce31dfefb22a25e142a765ef63a601a4a2b8efe668d9cfbf14185"}},"ready":true,"restartCount":10,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://163d7e570a88da42df5491c21b332b33c58dc3fb372c07dcd6e221f5be9f8941","started":true,"volumeMounts":[{"name":"kube-api-access-jfn99","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"52792","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.66\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.66","podIPs":[{"ip":"10.244.0.66"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5050bd4dc189e950abceb0dd30d46413b203dcb65ac3c4ae767d2708e1514c58"}},"ready":true,"restartCount":7,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://93fd925630a021bbf3aea1691c3a8bc3db9f47d15dcebc7ffc072628be3d03fc","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:10:52,314 INFO - Generated answer: There are 1 nodes in the cluster.
2024-12-09 16:10:52,315 INFO - 127.0.0.1 - - [09/Dec/2024 16:10:52] "POST /query HTTP/1.1" 200 -
2024-12-09 16:10:52,318 INFO - Received query: Which pods belong to bot-deployment?
2024-12-09 16:10:52,319 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:10:52,319 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"Which pods belong to bot-deployment?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:10:54,530 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2066 request_id=req_d851efb68d6201bfc51f57922a53d1cc response_code=200
2024-12-09 16:10:54,530 INFO - GPT-4 Response: 
    {
        "intents": {
            "pods": true,
            "namespace": false,
            "status": false,
            "deployments": true,
            "logs": false
        },
        "keywords": ["bot-deployment"]
    }
2024-12-09 16:10:54,530 INFO - Parsed Intents: {'pods': True, 'namespace': False, 'status': False, 'deployments': True, 'logs': False}
2024-12-09 16:10:54,530 INFO - Parsed Keywords: ['bot-deployment']
2024-12-09 16:10:54,540 DEBUG - response body: {"kind":"Deployment","apiVersion":"apps/v1","metadata":{"name":"bot-deployment","namespace":"default","uid":"538f8a37-4c8d-4ebb-89c9-c0cc6c5d5b5f","resourceVersion":"46595","generation":1,"creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment"},"annotations":{"deployment.kubernetes.io/revision":"1"},"managedFields":[{"manager":"kubectl-create","operation":"Update","apiVersion":"apps/v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:progressDeadlineSeconds":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{},"f:strategy":{"f:rollingUpdate":{".":{},"f:maxSurge":{},"f:maxUnavailable":{}},"f:type":{}},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2024-12-09T18:30:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:deployment.kubernetes.io/revision":{}}},"f:status":{"f:availableReplicas":{},"f:conditions":{".":{},"k:{\"type\":\"Available\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Progressing\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updatedReplicas":{}}},"subresource":"status"}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"bot-deployment"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"bot-deployment"}},"spec":{"containers":[{"name":"nginx","image":"nginx","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":"25%","maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{"observedGeneration":1,"replicas":1,"updatedReplicas":1,"readyReplicas":1,"availableReplicas":1,"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2024-12-08T18:40:58Z","lastTransitionTime":"2024-12-08T18:40:48Z","reason":"NewReplicaSetAvailable","message":"ReplicaSet \"bot-deployment-66d64568bb\" has successfully progressed."},{"type":"Available","status":"True","lastUpdateTime":"2024-12-09T18:30:10Z","lastTransitionTime":"2024-12-09T18:30:10Z","reason":"MinimumReplicasAvailable","message":"Deployment has minimum availability."}]}}

2024-12-09 16:10:54,543 INFO - Label selector for deployment 'bot-deployment': app=bot-deployment
2024-12-09 16:10:54,552 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56480"},"items":[{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:10:54,555 INFO - Pods found for deployment 'bot-deployment': ['bot-deployment-66d64568bb-mc4h2']
2024-12-09 16:10:54,556 INFO - Generated answer: 
2024-12-09 16:10:54,556 INFO - 127.0.0.1 - - [09/Dec/2024 16:10:54] "POST /query HTTP/1.1" 200 -
2024-12-09 16:10:54,560 INFO - Received query: What is the status of pods in the deployment bot-deployment?
2024-12-09 16:10:54,560 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:10:54,560 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"What is the status of pods in the deployment bot-deployment?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:10:57,532 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2741 request_id=req_d23312adcc846b1aa9b6e062adbe0eb0 response_code=200
2024-12-09 16:10:57,532 INFO - GPT-4 Response: {
    "intents": {
        "pods": true,
        "namespace": false,
        "status": true,
        "deployments": true,
        "logs": false
    },
    "keywords": ["bot-deployment"]
}
2024-12-09 16:10:57,532 INFO - Parsed Intents: {'pods': True, 'namespace': False, 'status': True, 'deployments': True, 'logs': False}
2024-12-09 16:10:57,532 INFO - Parsed Keywords: ['bot-deployment']
2024-12-09 16:10:57,545 DEBUG - response body: {"kind":"Deployment","apiVersion":"apps/v1","metadata":{"name":"bot-deployment","namespace":"default","uid":"538f8a37-4c8d-4ebb-89c9-c0cc6c5d5b5f","resourceVersion":"46595","generation":1,"creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment"},"annotations":{"deployment.kubernetes.io/revision":"1"},"managedFields":[{"manager":"kubectl-create","operation":"Update","apiVersion":"apps/v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:progressDeadlineSeconds":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{},"f:strategy":{"f:rollingUpdate":{".":{},"f:maxSurge":{},"f:maxUnavailable":{}},"f:type":{}},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2024-12-09T18:30:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:deployment.kubernetes.io/revision":{}}},"f:status":{"f:availableReplicas":{},"f:conditions":{".":{},"k:{\"type\":\"Available\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Progressing\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updatedReplicas":{}}},"subresource":"status"}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"bot-deployment"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"bot-deployment"}},"spec":{"containers":[{"name":"nginx","image":"nginx","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":"25%","maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{"observedGeneration":1,"replicas":1,"updatedReplicas":1,"readyReplicas":1,"availableReplicas":1,"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2024-12-08T18:40:58Z","lastTransitionTime":"2024-12-08T18:40:48Z","reason":"NewReplicaSetAvailable","message":"ReplicaSet \"bot-deployment-66d64568bb\" has successfully progressed."},{"type":"Available","status":"True","lastUpdateTime":"2024-12-09T18:30:10Z","lastTransitionTime":"2024-12-09T18:30:10Z","reason":"MinimumReplicasAvailable","message":"Deployment has minimum availability."}]}}

2024-12-09 16:10:57,547 INFO - Label selector for deployment 'bot-deployment': app=bot-deployment
2024-12-09 16:10:57,556 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56481"},"items":[{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:10:57,559 INFO - Pods found for deployment 'bot-deployment': ['bot-deployment-66d64568bb-mc4h2']
2024-12-09 16:10:57,559 INFO - Generated answer: 
2024-12-09 16:10:57,560 INFO - 127.0.0.1 - - [09/Dec/2024 16:10:57] "POST /query HTTP/1.1" 200 -
2024-12-09 16:10:57,565 INFO - Received query: What is?
2024-12-09 16:10:57,566 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:10:57,566 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"What is?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:10:59,744 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2022 request_id=req_4001680a6c9f60ed589c15012587834d response_code=200
2024-12-09 16:10:59,744 INFO - GPT-4 Response: 
    {
        "intents": {
            "pods": false,
            "namespace": false,
            "status": false,
            "deployments": false,
            "logs": false
        },
        "keywords": []
    }
2024-12-09 16:10:59,744 INFO - Extracted Kubernetes Names: ['what']
2024-12-09 16:10:59,744 WARNING - Keywords extracted using fallback regex method.
2024-12-09 16:10:59,744 INFO - Parsed Intents: {'pods': False, 'namespace': False, 'status': False, 'deployments': False, 'logs': False}
2024-12-09 16:10:59,744 INFO - Parsed Keywords: ['what']
2024-12-09 16:10:59,744 INFO - Generated answer: I'm sorry, I couldn't understand your query. Please try rephrasing.
2024-12-09 16:10:59,745 INFO - 127.0.0.1 - - [09/Dec/2024 16:10:59] "POST /query HTTP/1.1" 200 -
2024-12-09 16:10:59,748 INFO - Received query: 
2024-12-09 16:10:59,748 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:10:59,748 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:11:02,614 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2698 request_id=req_22cb149407af4747d166c0a53c99110f response_code=200
2024-12-09 16:11:02,614 INFO - GPT-4 Response: {
    "intents": {
        "pods": false,
        "namespace": false,
        "status": false,
        "deployments": false,
        "logs": false
    },
    "keywords": []
}
2024-12-09 16:11:02,614 INFO - Extracted Kubernetes Names: []
2024-12-09 16:11:02,614 WARNING - Keywords extracted using fallback regex method.
2024-12-09 16:11:02,614 INFO - Parsed Intents: {'pods': False, 'namespace': False, 'status': False, 'deployments': False, 'logs': False}
2024-12-09 16:11:02,614 INFO - Parsed Keywords: []
2024-12-09 16:11:02,614 INFO - Generated answer: I'm sorry, I couldn't understand your query. Please try rephrasing.
2024-12-09 16:11:02,615 INFO - 127.0.0.1 - - [09/Dec/2024 16:11:02] "POST /query HTTP/1.1" 200 -
2024-12-09 16:11:02,618 INFO - Received query: How many pods are running in the namespace dev?
2024-12-09 16:11:02,618 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:11:02,618 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"How many pods are running in the namespace dev?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:11:04,980 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2190 request_id=req_a991351a51be27e854194f0b9ad58e2f response_code=200
2024-12-09 16:11:04,980 INFO - GPT-4 Response: {
    "intents": {
        "pods": true,
        "namespace": true,
        "status": true,
        "deployments": false,
        "logs": false
    },
    "keywords": ["pods", "running", "namespace", "dev"]
}
2024-12-09 16:11:04,980 INFO - Parsed Intents: {'pods': True, 'namespace': True, 'status': True, 'deployments': False, 'logs': False}
2024-12-09 16:11:04,980 INFO - Parsed Keywords: ['pods', 'running', 'namespace', 'dev']
2024-12-09 16:11:04,990 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56488"},"items":[]}

2024-12-09 16:11:04,990 INFO - Generated answer: There are 0 pods in the pods namespace.
2024-12-09 16:11:04,991 INFO - 127.0.0.1 - - [09/Dec/2024 16:11:04] "POST /query HTTP/1.1" 200 -
2024-12-09 16:15:08,442 INFO - Kubernetes configuration initialized successfully.
2024-12-09 16:15:08,519 INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://10.0.0.113:8000
2024-12-09 16:15:08,520 INFO - [33mPress CTRL+C to quit[0m
2024-12-09 16:15:13,027 INFO - Received query: How many pods are in the default namespace?
2024-12-09 16:15:13,037 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:15:13,037 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"How many pods are in the default namespace?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:15:16,258 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2862 request_id=req_c36c8f5b72d82b636e9e70e039ee4d84 response_code=200
2024-12-09 16:15:16,261 INFO - GPT-4 Response: 
    {
        "intents": {
            "pods": true,
            "namespace": true,
            "status": false,
            "deployments": false,
            "logs": false
        },
        "keywords": ["default namespace"]
    }
2024-12-09 16:15:16,261 INFO - Parsed Intents: {'pods': True, 'namespace': True, 'status': False, 'deployments': False, 'logs': False}
2024-12-09 16:15:16,261 INFO - Parsed Keywords: ['default namespace']
2024-12-09 16:15:16,270 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56689"},"items":[]}

2024-12-09 16:15:16,271 INFO - Generated answer: There are 0 pods in the default namespace namespace.
2024-12-09 16:15:16,274 INFO - 127.0.0.1 - - [09/Dec/2024 16:15:16] "POST /query HTTP/1.1" 200 -
2024-12-09 16:15:16,277 INFO - Received query: What is the status of all pods?
2024-12-09 16:15:16,277 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:15:16,277 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"What is the status of all pods?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:15:19,813 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=3240 request_id=req_9e3a971d1710c136f6ddfdd60060326f response_code=200
2024-12-09 16:15:19,813 INFO - GPT-4 Response: {
    "intents": {
        "pods": true,
        "namespace": false,
        "status": true,
        "deployments": false,
        "logs": false
     },
    "keywords": ["all", "pods"]
}
2024-12-09 16:15:19,813 INFO - Parsed Intents: {'pods': True, 'namespace': False, 'status': True, 'deployments': False, 'logs': False}
2024-12-09 16:15:19,814 INFO - Parsed Keywords: ['all', 'pods']
2024-12-09 16:15:19,825 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56693"},"items":[{"metadata":{"name":"apple","namespace":"default","uid":"eb4be5c6-2187-424d-8786-94273caa533f","resourceVersion":"52777","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app1"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app1\"},\"name\":\"apple\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"nginx:1.21.6\",\"name\":\"container1\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container1\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.67\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-hlzcw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container1","image":"nginx:1.21.6","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-hlzcw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.67","podIPs":[{"ip":"10.244.0.67"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container1","state":{"running":{"startedAt":"2024-12-09T20:55:12Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://7b316c3472e08859a1423f7bf838b977b7ffabcb6031edba94fda9d24b49c9be"}},"ready":true,"restartCount":10,"image":"nginx:1.21.6","imageID":"docker-pullable://nginx@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514","containerID":"docker://895a39d42c34c1d64e29e2a9b93edef46aee8f18e44b6a35fa3ed0fcb39fea20","started":true,"volumeMounts":[{"name":"kube-api-access-hlzcw","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"orange","namespace":"default","uid":"afec77fc-8ede-4af6-9280-834023f56049","resourceVersion":"52797","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app2"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app2\"},\"name\":\"orange\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"httpd:2.4\",\"name\":\"container2\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container2\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.69\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jfn99","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container2","image":"httpd:2.4","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-jfn99","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.69","podIPs":[{"ip":"10.244.0.69"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container2","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://a3bd61c8956ce31dfefb22a25e142a765ef63a601a4a2b8efe668d9cfbf14185"}},"ready":true,"restartCount":10,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://163d7e570a88da42df5491c21b332b33c58dc3fb372c07dcd6e221f5be9f8941","started":true,"volumeMounts":[{"name":"kube-api-access-jfn99","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"52792","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.66\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.66","podIPs":[{"ip":"10.244.0.66"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5050bd4dc189e950abceb0dd30d46413b203dcb65ac3c4ae767d2708e1514c58"}},"ready":true,"restartCount":7,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://93fd925630a021bbf3aea1691c3a8bc3db9f47d15dcebc7ffc072628be3d03fc","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:15:19,836 INFO - Generated answer: Pod specified in the query was not found in the default namespace.
2024-12-09 16:15:19,837 INFO - 127.0.0.1 - - [09/Dec/2024 16:15:19] "POST /query HTTP/1.1" 200 -
2024-12-09 16:15:19,841 INFO - Received query: How many nodes are in the cluster?
2024-12-09 16:15:19,841 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:15:19,841 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"How many nodes are in the cluster?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:15:23,067 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2886 request_id=req_5d740431aebd03e2e36d70a7d9876394 response_code=200
2024-12-09 16:15:23,067 INFO - GPT-4 Response: 
    {
        "intents": {
            "pods": false,
            "namespace": false,
            "status": false,
            "deployments": false,
            "logs": false
        },
        "keywords": ["nodes", "cluster"]
    }
2024-12-09 16:15:23,067 INFO - Parsed Intents: {'pods': False, 'namespace': False, 'status': False, 'deployments': False, 'logs': False}
2024-12-09 16:15:23,067 INFO - Parsed Keywords: ['nodes', 'cluster']
2024-12-09 16:15:23,077 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56694"},"items":[{"metadata":{"name":"apple","namespace":"default","uid":"eb4be5c6-2187-424d-8786-94273caa533f","resourceVersion":"52777","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app1"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app1\"},\"name\":\"apple\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"nginx:1.21.6\",\"name\":\"container1\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container1\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.67\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-hlzcw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container1","image":"nginx:1.21.6","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-hlzcw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.67","podIPs":[{"ip":"10.244.0.67"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container1","state":{"running":{"startedAt":"2024-12-09T20:55:12Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://7b316c3472e08859a1423f7bf838b977b7ffabcb6031edba94fda9d24b49c9be"}},"ready":true,"restartCount":10,"image":"nginx:1.21.6","imageID":"docker-pullable://nginx@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514","containerID":"docker://895a39d42c34c1d64e29e2a9b93edef46aee8f18e44b6a35fa3ed0fcb39fea20","started":true,"volumeMounts":[{"name":"kube-api-access-hlzcw","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"orange","namespace":"default","uid":"afec77fc-8ede-4af6-9280-834023f56049","resourceVersion":"52797","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app2"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app2\"},\"name\":\"orange\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"httpd:2.4\",\"name\":\"container2\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container2\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.69\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jfn99","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container2","image":"httpd:2.4","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-jfn99","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.69","podIPs":[{"ip":"10.244.0.69"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container2","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://a3bd61c8956ce31dfefb22a25e142a765ef63a601a4a2b8efe668d9cfbf14185"}},"ready":true,"restartCount":10,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://163d7e570a88da42df5491c21b332b33c58dc3fb372c07dcd6e221f5be9f8941","started":true,"volumeMounts":[{"name":"kube-api-access-jfn99","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"52792","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.66\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.66","podIPs":[{"ip":"10.244.0.66"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5050bd4dc189e950abceb0dd30d46413b203dcb65ac3c4ae767d2708e1514c58"}},"ready":true,"restartCount":7,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://93fd925630a021bbf3aea1691c3a8bc3db9f47d15dcebc7ffc072628be3d03fc","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:15:23,088 INFO - Generated answer: There are 1 nodes in the cluster.
2024-12-09 16:15:23,088 INFO - 127.0.0.1 - - [09/Dec/2024 16:15:23] "POST /query HTTP/1.1" 200 -
2024-12-09 16:15:23,092 INFO - Received query: How many restarts has the pod bot-deployment experienced?
2024-12-09 16:15:23,092 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:15:23,092 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"How many restarts has the pod bot-deployment experienced?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:15:25,797 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2446 request_id=req_06f215ed0b23c9cc6022e5e1a8977d66 response_code=200
2024-12-09 16:15:25,797 INFO - GPT-4 Response: 
    {
        "intents": {
            "pods": true,
            "namespace": false,
            "status": false,
            "deployments": true,
            "logs": false
        },
        "keywords": ["restarts", "bot-deployment"]
    }
2024-12-09 16:15:25,797 INFO - Parsed Intents: {'pods': True, 'namespace': False, 'status': False, 'deployments': True, 'logs': False}
2024-12-09 16:15:25,797 INFO - Parsed Keywords: ['restarts', 'bot-deployment']
2024-12-09 16:15:25,807 DEBUG - response body: {"kind":"Deployment","apiVersion":"apps/v1","metadata":{"name":"bot-deployment","namespace":"default","uid":"538f8a37-4c8d-4ebb-89c9-c0cc6c5d5b5f","resourceVersion":"46595","generation":1,"creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment"},"annotations":{"deployment.kubernetes.io/revision":"1"},"managedFields":[{"manager":"kubectl-create","operation":"Update","apiVersion":"apps/v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:progressDeadlineSeconds":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{},"f:strategy":{"f:rollingUpdate":{".":{},"f:maxSurge":{},"f:maxUnavailable":{}},"f:type":{}},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2024-12-09T18:30:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:deployment.kubernetes.io/revision":{}}},"f:status":{"f:availableReplicas":{},"f:conditions":{".":{},"k:{\"type\":\"Available\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Progressing\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updatedReplicas":{}}},"subresource":"status"}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"bot-deployment"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"bot-deployment"}},"spec":{"containers":[{"name":"nginx","image":"nginx","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":"25%","maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{"observedGeneration":1,"replicas":1,"updatedReplicas":1,"readyReplicas":1,"availableReplicas":1,"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2024-12-08T18:40:58Z","lastTransitionTime":"2024-12-08T18:40:48Z","reason":"NewReplicaSetAvailable","message":"ReplicaSet \"bot-deployment-66d64568bb\" has successfully progressed."},{"type":"Available","status":"True","lastUpdateTime":"2024-12-09T18:30:10Z","lastTransitionTime":"2024-12-09T18:30:10Z","reason":"MinimumReplicasAvailable","message":"Deployment has minimum availability."}]}}

2024-12-09 16:15:25,809 INFO - Label selector for deployment 'bot-deployment': app=bot-deployment
2024-12-09 16:15:25,820 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56697"},"items":[{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:15:25,824 INFO - Pods found for deployment 'bot-deployment': ['bot-deployment-66d64568bb-mc4h2']
2024-12-09 16:15:25,824 INFO - Generated answer:  has the following pods: bot-deployment-66d64568bb-mc4h2
2024-12-09 16:15:25,825 INFO - 127.0.0.1 - - [09/Dec/2024 16:15:25] "POST /query HTTP/1.1" 200 -
2024-12-09 16:15:25,829 INFO - Received query: Which pod is spawned by website-deployment?
2024-12-09 16:15:25,829 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:15:25,829 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"Which pod is spawned by website-deployment?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:15:31,077 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=4957 request_id=req_fc4d7dabcdd9abd7a07ded123c3b9670 response_code=200
2024-12-09 16:15:31,077 INFO - GPT-4 Response: 
    {
        "intents": {
            "pods": true,
            "namespace": false,
            "status": false,
            "deployments": true,
            "logs": false
        },
        "keywords": ["website-deployment"]
    }
2024-12-09 16:15:31,077 INFO - Parsed Intents: {'pods': True, 'namespace': False, 'status': False, 'deployments': True, 'logs': False}
2024-12-09 16:15:31,077 INFO - Parsed Keywords: ['website-deployment']
2024-12-09 16:15:31,089 DEBUG - response body: {"kind":"Deployment","apiVersion":"apps/v1","metadata":{"name":"website-deployment","namespace":"default","uid":"50ca44a8-4c26-4baf-b6d7-0f5b226d875c","resourceVersion":"51513","generation":1,"creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment"},"annotations":{"deployment.kubernetes.io/revision":"1"},"managedFields":[{"manager":"kubectl-create","operation":"Update","apiVersion":"apps/v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:progressDeadlineSeconds":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{},"f:strategy":{"f:rollingUpdate":{".":{},"f:maxSurge":{},"f:maxUnavailable":{}},"f:type":{}},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2024-12-09T20:10:21Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:deployment.kubernetes.io/revision":{}}},"f:status":{"f:availableReplicas":{},"f:conditions":{".":{},"k:{\"type\":\"Available\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Progressing\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updatedReplicas":{}}},"subresource":"status"}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"website-deployment"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"website-deployment"}},"spec":{"containers":[{"name":"httpd","image":"httpd","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":"25%","maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{"observedGeneration":1,"replicas":1,"updatedReplicas":1,"readyReplicas":1,"availableReplicas":1,"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2024-12-08T18:40:59Z","lastTransitionTime":"2024-12-08T18:40:56Z","reason":"NewReplicaSetAvailable","message":"ReplicaSet \"website-deployment-dbc8b97cd\" has successfully progressed."},{"type":"Available","status":"True","lastUpdateTime":"2024-12-09T20:10:21Z","lastTransitionTime":"2024-12-09T20:10:21Z","reason":"MinimumReplicasAvailable","message":"Deployment has minimum availability."}]}}

2024-12-09 16:15:31,092 INFO - Label selector for deployment 'website-deployment': app=website-deployment
2024-12-09 16:15:31,102 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56701"},"items":[{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"52792","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.66\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.66","podIPs":[{"ip":"10.244.0.66"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5050bd4dc189e950abceb0dd30d46413b203dcb65ac3c4ae767d2708e1514c58"}},"ready":true,"restartCount":7,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://93fd925630a021bbf3aea1691c3a8bc3db9f47d15dcebc7ffc072628be3d03fc","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:15:31,105 INFO - Pods found for deployment 'website-deployment': ['website-deployment-dbc8b97cd-9ndzm']
2024-12-09 16:15:31,105 INFO - Generated answer:  has the following pods: website-deployment-dbc8b97cd-9ndzm
2024-12-09 16:15:31,106 INFO - 127.0.0.1 - - [09/Dec/2024 16:15:31] "POST /query HTTP/1.1" 200 -
2024-12-09 16:15:31,110 INFO - Received query: What is the status of the pod named 'orange'?
2024-12-09 16:15:31,110 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:15:31,110 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"What is the status of the pod named \'orange\'?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:15:34,627 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=3334 request_id=req_361c3d01023f05d4db1ad64a50482e97 response_code=200
2024-12-09 16:15:34,627 INFO - GPT-4 Response: {
    "intents": {
        "pods": true,
        "namespace": false,
        "status": true,
        "deployments": false,
        "logs": false
    },
    "keywords": ["orange"]
}
2024-12-09 16:15:34,628 INFO - Parsed Intents: {'pods': True, 'namespace': False, 'status': True, 'deployments': False, 'logs': False}
2024-12-09 16:15:34,628 INFO - Parsed Keywords: ['orange']
2024-12-09 16:15:34,639 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56703"},"items":[{"metadata":{"name":"apple","namespace":"default","uid":"eb4be5c6-2187-424d-8786-94273caa533f","resourceVersion":"52777","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app1"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app1\"},\"name\":\"apple\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"nginx:1.21.6\",\"name\":\"container1\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container1\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.67\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-hlzcw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container1","image":"nginx:1.21.6","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-hlzcw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.67","podIPs":[{"ip":"10.244.0.67"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container1","state":{"running":{"startedAt":"2024-12-09T20:55:12Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://7b316c3472e08859a1423f7bf838b977b7ffabcb6031edba94fda9d24b49c9be"}},"ready":true,"restartCount":10,"image":"nginx:1.21.6","imageID":"docker-pullable://nginx@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514","containerID":"docker://895a39d42c34c1d64e29e2a9b93edef46aee8f18e44b6a35fa3ed0fcb39fea20","started":true,"volumeMounts":[{"name":"kube-api-access-hlzcw","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"orange","namespace":"default","uid":"afec77fc-8ede-4af6-9280-834023f56049","resourceVersion":"52797","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app2"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app2\"},\"name\":\"orange\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"httpd:2.4\",\"name\":\"container2\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container2\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.69\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jfn99","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container2","image":"httpd:2.4","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-jfn99","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.69","podIPs":[{"ip":"10.244.0.69"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container2","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://a3bd61c8956ce31dfefb22a25e142a765ef63a601a4a2b8efe668d9cfbf14185"}},"ready":true,"restartCount":10,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://163d7e570a88da42df5491c21b332b33c58dc3fb372c07dcd6e221f5be9f8941","started":true,"volumeMounts":[{"name":"kube-api-access-jfn99","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"52792","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.66\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.66","podIPs":[{"ip":"10.244.0.66"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5050bd4dc189e950abceb0dd30d46413b203dcb65ac3c4ae767d2708e1514c58"}},"ready":true,"restartCount":7,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://93fd925630a021bbf3aea1691c3a8bc3db9f47d15dcebc7ffc072628be3d03fc","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:15:34,655 INFO - Generated answer: orange is Running.
2024-12-09 16:15:34,656 INFO - 127.0.0.1 - - [09/Dec/2024 16:15:34] "POST /query HTTP/1.1" 200 -
2024-12-09 16:15:34,662 INFO - Received query: Which nodes are the pods running on in the cluster?
2024-12-09 16:15:34,662 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:15:34,662 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"Which nodes are the pods running on in the cluster?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:15:37,327 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2505 request_id=req_e39a2e25c7299c85d69094075aea794c response_code=200
2024-12-09 16:15:37,327 INFO - GPT-4 Response: {
    "intents": {
        "pods": true,
        "namespace": false,
        "status": false,
        "deployments": false,
        "logs": false
    },
    "keywords": ["nodes", "cluster", "running"]
}
2024-12-09 16:15:37,327 INFO - Parsed Intents: {'pods': True, 'namespace': False, 'status': False, 'deployments': False, 'logs': False}
2024-12-09 16:15:37,327 INFO - Parsed Keywords: ['nodes', 'cluster', 'running']
2024-12-09 16:15:37,467 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56706"},"items":[{"metadata":{"name":"apple","namespace":"default","uid":"eb4be5c6-2187-424d-8786-94273caa533f","resourceVersion":"52777","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app1"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app1\"},\"name\":\"apple\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"nginx:1.21.6\",\"name\":\"container1\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container1\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.67\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-hlzcw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container1","image":"nginx:1.21.6","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-hlzcw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.67","podIPs":[{"ip":"10.244.0.67"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container1","state":{"running":{"startedAt":"2024-12-09T20:55:12Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://7b316c3472e08859a1423f7bf838b977b7ffabcb6031edba94fda9d24b49c9be"}},"ready":true,"restartCount":10,"image":"nginx:1.21.6","imageID":"docker-pullable://nginx@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514","containerID":"docker://895a39d42c34c1d64e29e2a9b93edef46aee8f18e44b6a35fa3ed0fcb39fea20","started":true,"volumeMounts":[{"name":"kube-api-access-hlzcw","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"orange","namespace":"default","uid":"afec77fc-8ede-4af6-9280-834023f56049","resourceVersion":"52797","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app2"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app2\"},\"name\":\"orange\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"httpd:2.4\",\"name\":\"container2\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container2\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.69\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jfn99","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container2","image":"httpd:2.4","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-jfn99","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.69","podIPs":[{"ip":"10.244.0.69"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container2","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://a3bd61c8956ce31dfefb22a25e142a765ef63a601a4a2b8efe668d9cfbf14185"}},"ready":true,"restartCount":10,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://163d7e570a88da42df5491c21b332b33c58dc3fb372c07dcd6e221f5be9f8941","started":true,"volumeMounts":[{"name":"kube-api-access-jfn99","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"52792","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.66\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.66","podIPs":[{"ip":"10.244.0.66"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5050bd4dc189e950abceb0dd30d46413b203dcb65ac3c4ae767d2708e1514c58"}},"ready":true,"restartCount":7,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://93fd925630a021bbf3aea1691c3a8bc3db9f47d15dcebc7ffc072628be3d03fc","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:15:37,479 INFO - Generated answer: There are 1 nodes in the cluster.
2024-12-09 16:15:37,480 INFO - 127.0.0.1 - - [09/Dec/2024 16:15:37] "POST /query HTTP/1.1" 200 -
2024-12-09 16:15:37,484 INFO - Received query: Which pods belong to bot-deployment?
2024-12-09 16:15:37,484 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:15:37,484 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"Which pods belong to bot-deployment?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:15:41,614 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=3905 request_id=req_275ecf06f6c9828e523ebd70b752a28b response_code=200
2024-12-09 16:15:41,615 INFO - GPT-4 Response: 
    {
        "intents": {
            "pods": true,
            "namespace": false,
            "status": false,
            "deployments": true,
            "logs": false
        },
        "keywords": ["bot-deployment"]
    }
2024-12-09 16:15:41,615 INFO - Parsed Intents: {'pods': True, 'namespace': False, 'status': False, 'deployments': True, 'logs': False}
2024-12-09 16:15:41,615 INFO - Parsed Keywords: ['bot-deployment']
2024-12-09 16:15:41,623 DEBUG - response body: {"kind":"Deployment","apiVersion":"apps/v1","metadata":{"name":"bot-deployment","namespace":"default","uid":"538f8a37-4c8d-4ebb-89c9-c0cc6c5d5b5f","resourceVersion":"46595","generation":1,"creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment"},"annotations":{"deployment.kubernetes.io/revision":"1"},"managedFields":[{"manager":"kubectl-create","operation":"Update","apiVersion":"apps/v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:progressDeadlineSeconds":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{},"f:strategy":{"f:rollingUpdate":{".":{},"f:maxSurge":{},"f:maxUnavailable":{}},"f:type":{}},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2024-12-09T18:30:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:deployment.kubernetes.io/revision":{}}},"f:status":{"f:availableReplicas":{},"f:conditions":{".":{},"k:{\"type\":\"Available\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Progressing\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updatedReplicas":{}}},"subresource":"status"}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"bot-deployment"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"bot-deployment"}},"spec":{"containers":[{"name":"nginx","image":"nginx","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":"25%","maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{"observedGeneration":1,"replicas":1,"updatedReplicas":1,"readyReplicas":1,"availableReplicas":1,"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2024-12-08T18:40:58Z","lastTransitionTime":"2024-12-08T18:40:48Z","reason":"NewReplicaSetAvailable","message":"ReplicaSet \"bot-deployment-66d64568bb\" has successfully progressed."},{"type":"Available","status":"True","lastUpdateTime":"2024-12-09T18:30:10Z","lastTransitionTime":"2024-12-09T18:30:10Z","reason":"MinimumReplicasAvailable","message":"Deployment has minimum availability."}]}}

2024-12-09 16:15:41,625 INFO - Label selector for deployment 'bot-deployment': app=bot-deployment
2024-12-09 16:15:41,634 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56710"},"items":[{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:15:41,637 INFO - Pods found for deployment 'bot-deployment': ['bot-deployment-66d64568bb-mc4h2']
2024-12-09 16:15:41,637 INFO - Generated answer:  has the following pods: bot-deployment-66d64568bb-mc4h2
2024-12-09 16:15:41,638 INFO - 127.0.0.1 - - [09/Dec/2024 16:15:41] "POST /query HTTP/1.1" 200 -
2024-12-09 16:15:41,641 INFO - Received query: What is the status of pods in the deployment bot-deployment?
2024-12-09 16:15:41,642 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:15:41,642 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"What is the status of pods in the deployment bot-deployment?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:15:45,382 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=3570 request_id=req_ecb351029bb48b1375b0ac075c4204f3 response_code=200
2024-12-09 16:15:45,382 INFO - GPT-4 Response: 
    {
        "intents": {
            "pods": true,
            "namespace": false,
            "status": true,
            "deployments": true,
            "logs": false
        },
        "keywords": ["bot-deployment"]
    }
2024-12-09 16:15:45,382 INFO - Parsed Intents: {'pods': True, 'namespace': False, 'status': True, 'deployments': True, 'logs': False}
2024-12-09 16:15:45,382 INFO - Parsed Keywords: ['bot-deployment']
2024-12-09 16:15:45,392 DEBUG - response body: {"kind":"Deployment","apiVersion":"apps/v1","metadata":{"name":"bot-deployment","namespace":"default","uid":"538f8a37-4c8d-4ebb-89c9-c0cc6c5d5b5f","resourceVersion":"46595","generation":1,"creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment"},"annotations":{"deployment.kubernetes.io/revision":"1"},"managedFields":[{"manager":"kubectl-create","operation":"Update","apiVersion":"apps/v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:progressDeadlineSeconds":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{},"f:strategy":{"f:rollingUpdate":{".":{},"f:maxSurge":{},"f:maxUnavailable":{}},"f:type":{}},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2024-12-09T18:30:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:deployment.kubernetes.io/revision":{}}},"f:status":{"f:availableReplicas":{},"f:conditions":{".":{},"k:{\"type\":\"Available\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Progressing\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updatedReplicas":{}}},"subresource":"status"}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"bot-deployment"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"bot-deployment"}},"spec":{"containers":[{"name":"nginx","image":"nginx","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":"25%","maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{"observedGeneration":1,"replicas":1,"updatedReplicas":1,"readyReplicas":1,"availableReplicas":1,"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2024-12-08T18:40:58Z","lastTransitionTime":"2024-12-08T18:40:48Z","reason":"NewReplicaSetAvailable","message":"ReplicaSet \"bot-deployment-66d64568bb\" has successfully progressed."},{"type":"Available","status":"True","lastUpdateTime":"2024-12-09T18:30:10Z","lastTransitionTime":"2024-12-09T18:30:10Z","reason":"MinimumReplicasAvailable","message":"Deployment has minimum availability."}]}}

2024-12-09 16:15:45,394 INFO - Label selector for deployment 'bot-deployment': app=bot-deployment
2024-12-09 16:15:45,403 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56713"},"items":[{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:15:45,405 INFO - Pods found for deployment 'bot-deployment': ['bot-deployment-66d64568bb-mc4h2']
2024-12-09 16:15:45,406 INFO - Generated answer:  has the following pods: bot-deployment-66d64568bb-mc4h2
2024-12-09 16:15:45,407 INFO - 127.0.0.1 - - [09/Dec/2024 16:15:45] "POST /query HTTP/1.1" 200 -
2024-12-09 16:15:45,410 INFO - Received query: What is?
2024-12-09 16:15:45,411 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:15:45,411 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"What is?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:15:51,094 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=5521 request_id=req_5d82d51dc11692d703b9322d1ef91028 response_code=200
2024-12-09 16:15:51,094 INFO - GPT-4 Response: {
    "intents": {
        "pods": false,
        "namespace": false,
        "status": false,
        "deployments": false,
        "logs": false
    },
    "keywords": []
}
2024-12-09 16:15:51,094 INFO - Extracted Kubernetes Names: ['what']
2024-12-09 16:15:51,094 WARNING - Keywords extracted using fallback regex method.
2024-12-09 16:15:51,094 INFO - Parsed Intents: {'pods': False, 'namespace': False, 'status': False, 'deployments': False, 'logs': False}
2024-12-09 16:15:51,094 INFO - Parsed Keywords: ['what']
2024-12-09 16:15:51,094 INFO - Generated answer: I'm sorry, I couldn't understand your query. Please try rephrasing.
2024-12-09 16:15:51,095 INFO - 127.0.0.1 - - [09/Dec/2024 16:15:51] "POST /query HTTP/1.1" 200 -
2024-12-09 16:15:51,098 INFO - Received query: 
2024-12-09 16:15:51,098 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:15:51,098 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:15:54,600 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=3251 request_id=req_f1b4c171571d62e6fb9410c3e82906b2 response_code=200
2024-12-09 16:15:54,600 INFO - GPT-4 Response: {
    "intents": {
        "pods": false,
        "namespace": false,
        "status": false,
        "deployments": false,
        "logs": false
    },
    "keywords": []
}
2024-12-09 16:15:54,600 INFO - Extracted Kubernetes Names: []
2024-12-09 16:15:54,600 WARNING - Keywords extracted using fallback regex method.
2024-12-09 16:15:54,601 INFO - Parsed Intents: {'pods': False, 'namespace': False, 'status': False, 'deployments': False, 'logs': False}
2024-12-09 16:15:54,601 INFO - Parsed Keywords: []
2024-12-09 16:15:54,601 INFO - Generated answer: I'm sorry, I couldn't understand your query. Please try rephrasing.
2024-12-09 16:15:54,602 INFO - 127.0.0.1 - - [09/Dec/2024 16:15:54] "POST /query HTTP/1.1" 200 -
2024-12-09 16:15:54,606 INFO - Received query: How many pods are running in the namespace dev?
2024-12-09 16:15:54,607 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:15:54,607 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"How many pods are running in the namespace dev?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:15:58,472 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=3699 request_id=req_fcce77c4d8633c74915e02e1caf8ba74 response_code=200
2024-12-09 16:15:58,472 INFO - GPT-4 Response: 
    {
        "intents": {
            "pods": true,
            "namespace": true,
            "status": true,
            "deployments": false,
            "logs": false
        },
        "keywords": ["dev", "running"]
    }
2024-12-09 16:15:58,472 INFO - Parsed Intents: {'pods': True, 'namespace': True, 'status': True, 'deployments': False, 'logs': False}
2024-12-09 16:15:58,472 INFO - Parsed Keywords: ['dev', 'running']
2024-12-09 16:15:58,482 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56723"},"items":[]}

2024-12-09 16:15:58,482 INFO - Generated answer: There are 0 pods in the dev namespace.
2024-12-09 16:15:58,483 INFO - 127.0.0.1 - - [09/Dec/2024 16:15:58] "POST /query HTTP/1.1" 200 -
2024-12-09 16:17:51,680 INFO - Kubernetes configuration initialized successfully.
2024-12-09 16:17:51,764 INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://10.0.0.113:8000
2024-12-09 16:17:51,764 INFO - [33mPress CTRL+C to quit[0m
2024-12-09 16:17:57,321 INFO - Received query: How many pods are in the default namespace?
2024-12-09 16:17:57,332 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:17:57,332 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"How many pods are in the default namespace?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:17:59,845 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2149 request_id=req_0e62613c26576d374a72e9f3fb7a57da response_code=200
2024-12-09 16:17:59,849 INFO - GPT-4 Response: 
    {
        "intents": {
            "pods": true,
            "namespace": true,
            "status": false,
            "deployments": false,
            "logs": false
        },
        "keywords": ["default namespace"]
    }
2024-12-09 16:17:59,849 INFO - Parsed Intents: {'pods': True, 'namespace': True, 'status': False, 'deployments': False, 'logs': False}
2024-12-09 16:17:59,849 INFO - Parsed Keywords: ['default namespace']
2024-12-09 16:17:59,859 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56819"},"items":[{"metadata":{"name":"apple","namespace":"default","uid":"eb4be5c6-2187-424d-8786-94273caa533f","resourceVersion":"52777","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app1"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app1\"},\"name\":\"apple\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"nginx:1.21.6\",\"name\":\"container1\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container1\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.67\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-hlzcw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container1","image":"nginx:1.21.6","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-hlzcw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.67","podIPs":[{"ip":"10.244.0.67"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container1","state":{"running":{"startedAt":"2024-12-09T20:55:12Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://7b316c3472e08859a1423f7bf838b977b7ffabcb6031edba94fda9d24b49c9be"}},"ready":true,"restartCount":10,"image":"nginx:1.21.6","imageID":"docker-pullable://nginx@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514","containerID":"docker://895a39d42c34c1d64e29e2a9b93edef46aee8f18e44b6a35fa3ed0fcb39fea20","started":true,"volumeMounts":[{"name":"kube-api-access-hlzcw","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"orange","namespace":"default","uid":"afec77fc-8ede-4af6-9280-834023f56049","resourceVersion":"52797","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app2"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app2\"},\"name\":\"orange\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"httpd:2.4\",\"name\":\"container2\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container2\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.69\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jfn99","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container2","image":"httpd:2.4","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-jfn99","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.69","podIPs":[{"ip":"10.244.0.69"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container2","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://a3bd61c8956ce31dfefb22a25e142a765ef63a601a4a2b8efe668d9cfbf14185"}},"ready":true,"restartCount":10,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://163d7e570a88da42df5491c21b332b33c58dc3fb372c07dcd6e221f5be9f8941","started":true,"volumeMounts":[{"name":"kube-api-access-jfn99","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"52792","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.66\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.66","podIPs":[{"ip":"10.244.0.66"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5050bd4dc189e950abceb0dd30d46413b203dcb65ac3c4ae767d2708e1514c58"}},"ready":true,"restartCount":7,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://93fd925630a021bbf3aea1691c3a8bc3db9f47d15dcebc7ffc072628be3d03fc","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:17:59,871 INFO - Generated answer: 4 pods in the default namespace.
2024-12-09 16:17:59,873 INFO - 127.0.0.1 - - [09/Dec/2024 16:17:59] "POST /query HTTP/1.1" 200 -
2024-12-09 16:17:59,876 INFO - Received query: What is the status of all pods?
2024-12-09 16:17:59,877 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:17:59,877 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"What is the status of all pods?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:18:02,925 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2807 request_id=req_b14a63a6e21b792d4f39acf40af78930 response_code=200
2024-12-09 16:18:02,925 INFO - GPT-4 Response: {
    "intents": {
        "pods": true,
        "namespace": false,
        "status": true,
        "deployments": false,
        "logs": false
    },
    "keywords": ["all pods"]
}
2024-12-09 16:18:02,925 INFO - Parsed Intents: {'pods': True, 'namespace': False, 'status': True, 'deployments': False, 'logs': False}
2024-12-09 16:18:02,925 INFO - Parsed Keywords: ['all pods']
2024-12-09 16:18:02,937 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56822"},"items":[{"metadata":{"name":"apple","namespace":"default","uid":"eb4be5c6-2187-424d-8786-94273caa533f","resourceVersion":"52777","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app1"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app1\"},\"name\":\"apple\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"nginx:1.21.6\",\"name\":\"container1\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container1\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.67\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-hlzcw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container1","image":"nginx:1.21.6","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-hlzcw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.67","podIPs":[{"ip":"10.244.0.67"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container1","state":{"running":{"startedAt":"2024-12-09T20:55:12Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://7b316c3472e08859a1423f7bf838b977b7ffabcb6031edba94fda9d24b49c9be"}},"ready":true,"restartCount":10,"image":"nginx:1.21.6","imageID":"docker-pullable://nginx@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514","containerID":"docker://895a39d42c34c1d64e29e2a9b93edef46aee8f18e44b6a35fa3ed0fcb39fea20","started":true,"volumeMounts":[{"name":"kube-api-access-hlzcw","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"orange","namespace":"default","uid":"afec77fc-8ede-4af6-9280-834023f56049","resourceVersion":"52797","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app2"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app2\"},\"name\":\"orange\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"httpd:2.4\",\"name\":\"container2\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container2\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.69\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jfn99","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container2","image":"httpd:2.4","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-jfn99","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.69","podIPs":[{"ip":"10.244.0.69"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container2","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://a3bd61c8956ce31dfefb22a25e142a765ef63a601a4a2b8efe668d9cfbf14185"}},"ready":true,"restartCount":10,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://163d7e570a88da42df5491c21b332b33c58dc3fb372c07dcd6e221f5be9f8941","started":true,"volumeMounts":[{"name":"kube-api-access-jfn99","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"52792","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.66\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.66","podIPs":[{"ip":"10.244.0.66"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5050bd4dc189e950abceb0dd30d46413b203dcb65ac3c4ae767d2708e1514c58"}},"ready":true,"restartCount":7,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://93fd925630a021bbf3aea1691c3a8bc3db9f47d15dcebc7ffc072628be3d03fc","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:18:02,959 INFO - Generated answer: Status: apple is Running, bot-deployment-66d64568bb-mc4h2 is Running, orange is Running, website-deployment-dbc8b97cd-9ndzm is Running
2024-12-09 16:18:02,960 INFO - 127.0.0.1 - - [09/Dec/2024 16:18:02] "POST /query HTTP/1.1" 200 -
2024-12-09 16:18:02,963 INFO - Received query: How many nodes are in the cluster?
2024-12-09 16:18:02,964 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:18:02,964 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"How many nodes are in the cluster?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:18:05,742 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2495 request_id=req_6a73a5a1714ce8f18d27aacd95ca85b6 response_code=200
2024-12-09 16:18:05,742 INFO - GPT-4 Response: {
    "intents": {
        "pods": false,
        "namespace": false,
        "status": false,
        "deployments": false,
        "logs": false
    },
    "keywords": ["nodes", "cluster"]
}
2024-12-09 16:18:05,742 INFO - Parsed Intents: {'pods': False, 'namespace': False, 'status': False, 'deployments': False, 'logs': False}
2024-12-09 16:18:05,742 INFO - Parsed Keywords: ['nodes', 'cluster']
2024-12-09 16:18:05,755 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56823"},"items":[{"metadata":{"name":"apple","namespace":"default","uid":"eb4be5c6-2187-424d-8786-94273caa533f","resourceVersion":"52777","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app1"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app1\"},\"name\":\"apple\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"nginx:1.21.6\",\"name\":\"container1\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container1\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.67\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-hlzcw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container1","image":"nginx:1.21.6","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-hlzcw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.67","podIPs":[{"ip":"10.244.0.67"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container1","state":{"running":{"startedAt":"2024-12-09T20:55:12Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://7b316c3472e08859a1423f7bf838b977b7ffabcb6031edba94fda9d24b49c9be"}},"ready":true,"restartCount":10,"image":"nginx:1.21.6","imageID":"docker-pullable://nginx@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514","containerID":"docker://895a39d42c34c1d64e29e2a9b93edef46aee8f18e44b6a35fa3ed0fcb39fea20","started":true,"volumeMounts":[{"name":"kube-api-access-hlzcw","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"orange","namespace":"default","uid":"afec77fc-8ede-4af6-9280-834023f56049","resourceVersion":"52797","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app2"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app2\"},\"name\":\"orange\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"httpd:2.4\",\"name\":\"container2\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container2\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.69\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jfn99","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container2","image":"httpd:2.4","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-jfn99","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.69","podIPs":[{"ip":"10.244.0.69"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container2","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://a3bd61c8956ce31dfefb22a25e142a765ef63a601a4a2b8efe668d9cfbf14185"}},"ready":true,"restartCount":10,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://163d7e570a88da42df5491c21b332b33c58dc3fb372c07dcd6e221f5be9f8941","started":true,"volumeMounts":[{"name":"kube-api-access-jfn99","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"52792","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.66\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.66","podIPs":[{"ip":"10.244.0.66"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5050bd4dc189e950abceb0dd30d46413b203dcb65ac3c4ae767d2708e1514c58"}},"ready":true,"restartCount":7,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://93fd925630a021bbf3aea1691c3a8bc3db9f47d15dcebc7ffc072628be3d03fc","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:18:05,767 INFO - Generated answer: There are 1 nodes in the cluster.
2024-12-09 16:18:05,768 INFO - 127.0.0.1 - - [09/Dec/2024 16:18:05] "POST /query HTTP/1.1" 200 -
2024-12-09 16:18:05,773 INFO - Received query: How many restarts has the pod bot-deployment experienced?
2024-12-09 16:18:05,773 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:18:05,773 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"How many restarts has the pod bot-deployment experienced?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:18:09,907 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=3961 request_id=req_56d4ef0173c61190e68701040632e737 response_code=200
2024-12-09 16:18:09,907 INFO - GPT-4 Response: 
    {
        "intents": {
            "pods": true,
            "namespace": false,
            "status": false,
            "deployments": true,
            "logs": false
        },
        "keywords": ["restarts", "bot-deployment"]
    }
2024-12-09 16:18:09,907 INFO - Parsed Intents: {'pods': True, 'namespace': False, 'status': False, 'deployments': True, 'logs': False}
2024-12-09 16:18:09,907 INFO - Parsed Keywords: ['restarts', 'bot-deployment']
2024-12-09 16:18:09,907 INFO - Fetching restart count for pod: bot-deployment in namespace: default
2024-12-09 16:18:09,917 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56828"},"items":[{"metadata":{"name":"apple","namespace":"default","uid":"eb4be5c6-2187-424d-8786-94273caa533f","resourceVersion":"52777","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app1"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app1\"},\"name\":\"apple\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"nginx:1.21.6\",\"name\":\"container1\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container1\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.67\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-hlzcw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container1","image":"nginx:1.21.6","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-hlzcw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.67","podIPs":[{"ip":"10.244.0.67"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container1","state":{"running":{"startedAt":"2024-12-09T20:55:12Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://7b316c3472e08859a1423f7bf838b977b7ffabcb6031edba94fda9d24b49c9be"}},"ready":true,"restartCount":10,"image":"nginx:1.21.6","imageID":"docker-pullable://nginx@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514","containerID":"docker://895a39d42c34c1d64e29e2a9b93edef46aee8f18e44b6a35fa3ed0fcb39fea20","started":true,"volumeMounts":[{"name":"kube-api-access-hlzcw","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"orange","namespace":"default","uid":"afec77fc-8ede-4af6-9280-834023f56049","resourceVersion":"52797","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app2"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app2\"},\"name\":\"orange\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"httpd:2.4\",\"name\":\"container2\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container2\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.69\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jfn99","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container2","image":"httpd:2.4","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-jfn99","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.69","podIPs":[{"ip":"10.244.0.69"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container2","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://a3bd61c8956ce31dfefb22a25e142a765ef63a601a4a2b8efe668d9cfbf14185"}},"ready":true,"restartCount":10,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://163d7e570a88da42df5491c21b332b33c58dc3fb372c07dcd6e221f5be9f8941","started":true,"volumeMounts":[{"name":"kube-api-access-jfn99","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"52792","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.66\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.66","podIPs":[{"ip":"10.244.0.66"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5050bd4dc189e950abceb0dd30d46413b203dcb65ac3c4ae767d2708e1514c58"}},"ready":true,"restartCount":7,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://93fd925630a021bbf3aea1691c3a8bc3db9f47d15dcebc7ffc072628be3d03fc","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:18:09,929 INFO - Found pod 'bot-deployment-66d64568bb-mc4h2' (trimmed to 'bot-deployment'). Restarts: 7
2024-12-09 16:18:09,929 INFO - Generated answer: [bot-deployment restarted 7 times]
2024-12-09 16:18:09,930 INFO - 127.0.0.1 - - [09/Dec/2024 16:18:09] "POST /query HTTP/1.1" 200 -
2024-12-09 16:18:09,933 INFO - Received query: Which pod is spawned by website-deployment?
2024-12-09 16:18:09,933 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:18:09,934 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"Which pod is spawned by website-deployment?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:18:12,581 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2481 request_id=req_82161c11149fd82a6b3794dd65a7753e response_code=200
2024-12-09 16:18:12,581 INFO - GPT-4 Response: 
    {
        "intents": {
            "pods": true,
            "namespace": false,
            "status": false,
            "deployments": true,
            "logs": false
        },
        "keywords": ["website-deployment"]
    }
2024-12-09 16:18:12,581 INFO - Parsed Intents: {'pods': True, 'namespace': False, 'status': False, 'deployments': True, 'logs': False}
2024-12-09 16:18:12,581 INFO - Parsed Keywords: ['website-deployment']
2024-12-09 16:18:12,589 DEBUG - response body: {"kind":"Deployment","apiVersion":"apps/v1","metadata":{"name":"website-deployment","namespace":"default","uid":"50ca44a8-4c26-4baf-b6d7-0f5b226d875c","resourceVersion":"51513","generation":1,"creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment"},"annotations":{"deployment.kubernetes.io/revision":"1"},"managedFields":[{"manager":"kubectl-create","operation":"Update","apiVersion":"apps/v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:progressDeadlineSeconds":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{},"f:strategy":{"f:rollingUpdate":{".":{},"f:maxSurge":{},"f:maxUnavailable":{}},"f:type":{}},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2024-12-09T20:10:21Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:deployment.kubernetes.io/revision":{}}},"f:status":{"f:availableReplicas":{},"f:conditions":{".":{},"k:{\"type\":\"Available\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Progressing\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updatedReplicas":{}}},"subresource":"status"}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"website-deployment"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"website-deployment"}},"spec":{"containers":[{"name":"httpd","image":"httpd","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":"25%","maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{"observedGeneration":1,"replicas":1,"updatedReplicas":1,"readyReplicas":1,"availableReplicas":1,"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2024-12-08T18:40:59Z","lastTransitionTime":"2024-12-08T18:40:56Z","reason":"NewReplicaSetAvailable","message":"ReplicaSet \"website-deployment-dbc8b97cd\" has successfully progressed."},{"type":"Available","status":"True","lastUpdateTime":"2024-12-09T20:10:21Z","lastTransitionTime":"2024-12-09T20:10:21Z","reason":"MinimumReplicasAvailable","message":"Deployment has minimum availability."}]}}

2024-12-09 16:18:12,592 INFO - Label selector for deployment 'website-deployment': app=website-deployment
2024-12-09 16:18:12,601 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56831"},"items":[{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"52792","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.66\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.66","podIPs":[{"ip":"10.244.0.66"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5050bd4dc189e950abceb0dd30d46413b203dcb65ac3c4ae767d2708e1514c58"}},"ready":true,"restartCount":7,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://93fd925630a021bbf3aea1691c3a8bc3db9f47d15dcebc7ffc072628be3d03fc","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:18:12,604 INFO - Pods found for deployment 'website-deployment': ['website-deployment-dbc8b97cd-9ndzm']
2024-12-09 16:18:12,604 INFO - Generated answer: website-deployment
2024-12-09 16:18:12,605 INFO - 127.0.0.1 - - [09/Dec/2024 16:18:12] "POST /query HTTP/1.1" 200 -
2024-12-09 16:18:12,608 INFO - Received query: What is the status of the pod named 'orange'?
2024-12-09 16:18:12,609 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:18:12,609 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"What is the status of the pod named \'orange\'?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:18:15,834 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=3042 request_id=req_cd1ea98c5e2eca39bf7ebc8c216fee53 response_code=200
2024-12-09 16:18:15,834 INFO - GPT-4 Response: {
    "intents": {
        "pods": true,
        "namespace": false,
        "status": true,
        "deployments": false,
        "logs": false
    },
    "keywords": ["orange"]
}
2024-12-09 16:18:15,835 INFO - Parsed Intents: {'pods': True, 'namespace': False, 'status': True, 'deployments': False, 'logs': False}
2024-12-09 16:18:15,835 INFO - Parsed Keywords: ['orange']
2024-12-09 16:18:15,846 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56832"},"items":[{"metadata":{"name":"apple","namespace":"default","uid":"eb4be5c6-2187-424d-8786-94273caa533f","resourceVersion":"52777","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app1"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app1\"},\"name\":\"apple\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"nginx:1.21.6\",\"name\":\"container1\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container1\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.67\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-hlzcw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container1","image":"nginx:1.21.6","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-hlzcw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.67","podIPs":[{"ip":"10.244.0.67"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container1","state":{"running":{"startedAt":"2024-12-09T20:55:12Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://7b316c3472e08859a1423f7bf838b977b7ffabcb6031edba94fda9d24b49c9be"}},"ready":true,"restartCount":10,"image":"nginx:1.21.6","imageID":"docker-pullable://nginx@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514","containerID":"docker://895a39d42c34c1d64e29e2a9b93edef46aee8f18e44b6a35fa3ed0fcb39fea20","started":true,"volumeMounts":[{"name":"kube-api-access-hlzcw","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"orange","namespace":"default","uid":"afec77fc-8ede-4af6-9280-834023f56049","resourceVersion":"52797","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app2"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app2\"},\"name\":\"orange\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"httpd:2.4\",\"name\":\"container2\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container2\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.69\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jfn99","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container2","image":"httpd:2.4","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-jfn99","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.69","podIPs":[{"ip":"10.244.0.69"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container2","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://a3bd61c8956ce31dfefb22a25e142a765ef63a601a4a2b8efe668d9cfbf14185"}},"ready":true,"restartCount":10,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://163d7e570a88da42df5491c21b332b33c58dc3fb372c07dcd6e221f5be9f8941","started":true,"volumeMounts":[{"name":"kube-api-access-jfn99","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"52792","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.66\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.66","podIPs":[{"ip":"10.244.0.66"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5050bd4dc189e950abceb0dd30d46413b203dcb65ac3c4ae767d2708e1514c58"}},"ready":true,"restartCount":7,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://93fd925630a021bbf3aea1691c3a8bc3db9f47d15dcebc7ffc072628be3d03fc","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:18:15,865 INFO - Generated answer: 'Running
2024-12-09 16:18:15,866 INFO - 127.0.0.1 - - [09/Dec/2024 16:18:15] "POST /query HTTP/1.1" 200 -
2024-12-09 16:18:15,870 INFO - Received query: Which nodes are the pods running on in the cluster?
2024-12-09 16:18:15,870 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:18:15,870 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"Which nodes are the pods running on in the cluster?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:18:18,596 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2554 request_id=req_0200f6053d39a5330926b318ec102d7c response_code=200
2024-12-09 16:18:18,596 INFO - GPT-4 Response: {
    "intents": {
        "pods": true,
        "namespace": false,
        "status": false,
        "deployments": false,
        "logs": false
    },
    "keywords": ["nodes", "cluster", "running"]
}
2024-12-09 16:18:18,596 INFO - Parsed Intents: {'pods': True, 'namespace': False, 'status': False, 'deployments': False, 'logs': False}
2024-12-09 16:18:18,596 INFO - Parsed Keywords: ['nodes', 'cluster', 'running']
2024-12-09 16:18:18,606 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56834"},"items":[{"metadata":{"name":"apple","namespace":"default","uid":"eb4be5c6-2187-424d-8786-94273caa533f","resourceVersion":"52777","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app1"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app1\"},\"name\":\"apple\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"nginx:1.21.6\",\"name\":\"container1\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container1\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.67\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-hlzcw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container1","image":"nginx:1.21.6","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-hlzcw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.67","podIPs":[{"ip":"10.244.0.67"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container1","state":{"running":{"startedAt":"2024-12-09T20:55:12Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://7b316c3472e08859a1423f7bf838b977b7ffabcb6031edba94fda9d24b49c9be"}},"ready":true,"restartCount":10,"image":"nginx:1.21.6","imageID":"docker-pullable://nginx@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514","containerID":"docker://895a39d42c34c1d64e29e2a9b93edef46aee8f18e44b6a35fa3ed0fcb39fea20","started":true,"volumeMounts":[{"name":"kube-api-access-hlzcw","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"orange","namespace":"default","uid":"afec77fc-8ede-4af6-9280-834023f56049","resourceVersion":"52797","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app2"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app2\"},\"name\":\"orange\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"httpd:2.4\",\"name\":\"container2\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container2\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.69\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jfn99","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container2","image":"httpd:2.4","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-jfn99","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.69","podIPs":[{"ip":"10.244.0.69"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container2","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://a3bd61c8956ce31dfefb22a25e142a765ef63a601a4a2b8efe668d9cfbf14185"}},"ready":true,"restartCount":10,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://163d7e570a88da42df5491c21b332b33c58dc3fb372c07dcd6e221f5be9f8941","started":true,"volumeMounts":[{"name":"kube-api-access-jfn99","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"52792","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.66\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.66","podIPs":[{"ip":"10.244.0.66"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5050bd4dc189e950abceb0dd30d46413b203dcb65ac3c4ae767d2708e1514c58"}},"ready":true,"restartCount":7,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://93fd925630a021bbf3aea1691c3a8bc3db9f47d15dcebc7ffc072628be3d03fc","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:18:18,618 INFO - Generated answer: There are 1 nodes in the cluster.
2024-12-09 16:18:18,618 INFO - 127.0.0.1 - - [09/Dec/2024 16:18:18] "POST /query HTTP/1.1" 200 -
2024-12-09 16:18:18,621 INFO - Received query: Which pods belong to bot-deployment?
2024-12-09 16:18:18,622 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:18:18,622 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"Which pods belong to bot-deployment?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:18:20,599 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=1841 request_id=req_203fe84f98797ff5be048cb9805593a4 response_code=200
2024-12-09 16:18:20,599 INFO - GPT-4 Response: {
    "intents": {
        "pods": true,
        "namespace": false,
        "status": false,
        "deployments": true,
        "logs": false
    },
    "keywords": ["bot-deployment"]
}
2024-12-09 16:18:20,599 INFO - Parsed Intents: {'pods': True, 'namespace': False, 'status': False, 'deployments': True, 'logs': False}
2024-12-09 16:18:20,599 INFO - Parsed Keywords: ['bot-deployment']
2024-12-09 16:18:20,609 DEBUG - response body: {"kind":"Deployment","apiVersion":"apps/v1","metadata":{"name":"bot-deployment","namespace":"default","uid":"538f8a37-4c8d-4ebb-89c9-c0cc6c5d5b5f","resourceVersion":"46595","generation":1,"creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment"},"annotations":{"deployment.kubernetes.io/revision":"1"},"managedFields":[{"manager":"kubectl-create","operation":"Update","apiVersion":"apps/v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:progressDeadlineSeconds":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{},"f:strategy":{"f:rollingUpdate":{".":{},"f:maxSurge":{},"f:maxUnavailable":{}},"f:type":{}},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2024-12-09T18:30:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:deployment.kubernetes.io/revision":{}}},"f:status":{"f:availableReplicas":{},"f:conditions":{".":{},"k:{\"type\":\"Available\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Progressing\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updatedReplicas":{}}},"subresource":"status"}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"bot-deployment"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"bot-deployment"}},"spec":{"containers":[{"name":"nginx","image":"nginx","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":"25%","maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{"observedGeneration":1,"replicas":1,"updatedReplicas":1,"readyReplicas":1,"availableReplicas":1,"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2024-12-08T18:40:58Z","lastTransitionTime":"2024-12-08T18:40:48Z","reason":"NewReplicaSetAvailable","message":"ReplicaSet \"bot-deployment-66d64568bb\" has successfully progressed."},{"type":"Available","status":"True","lastUpdateTime":"2024-12-09T18:30:10Z","lastTransitionTime":"2024-12-09T18:30:10Z","reason":"MinimumReplicasAvailable","message":"Deployment has minimum availability."}]}}

2024-12-09 16:18:20,611 INFO - Label selector for deployment 'bot-deployment': app=bot-deployment
2024-12-09 16:18:20,621 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56837"},"items":[{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:18:20,625 INFO - Pods found for deployment 'bot-deployment': ['bot-deployment-66d64568bb-mc4h2']
2024-12-09 16:18:20,626 INFO - Generated answer: bot-deployment
2024-12-09 16:18:20,626 INFO - 127.0.0.1 - - [09/Dec/2024 16:18:20] "POST /query HTTP/1.1" 200 -
2024-12-09 16:18:20,630 INFO - Received query: What is the status of pods in the deployment bot-deployment?
2024-12-09 16:18:20,630 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:18:20,630 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"What is the status of pods in the deployment bot-deployment?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:18:27,942 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=7105 request_id=req_271a7d83db0944f2833d88d6958e49d5 response_code=200
2024-12-09 16:18:27,942 INFO - GPT-4 Response: 
{
    "intents": {
        "pods": true,
        "namespace": false,
        "status": true,
        "deployments": true,
        "logs": false
    },
    "keywords": ["bot-deployment"]
}
2024-12-09 16:18:27,942 INFO - Parsed Intents: {'pods': True, 'namespace': False, 'status': True, 'deployments': True, 'logs': False}
2024-12-09 16:18:27,942 INFO - Parsed Keywords: ['bot-deployment']
2024-12-09 16:18:27,952 DEBUG - response body: {"kind":"Deployment","apiVersion":"apps/v1","metadata":{"name":"bot-deployment","namespace":"default","uid":"538f8a37-4c8d-4ebb-89c9-c0cc6c5d5b5f","resourceVersion":"46595","generation":1,"creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment"},"annotations":{"deployment.kubernetes.io/revision":"1"},"managedFields":[{"manager":"kubectl-create","operation":"Update","apiVersion":"apps/v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:progressDeadlineSeconds":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{},"f:strategy":{"f:rollingUpdate":{".":{},"f:maxSurge":{},"f:maxUnavailable":{}},"f:type":{}},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}}}},{"manager":"kube-controller-manager","operation":"Update","apiVersion":"apps/v1","time":"2024-12-09T18:30:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:deployment.kubernetes.io/revision":{}}},"f:status":{"f:availableReplicas":{},"f:conditions":{".":{},"k:{\"type\":\"Available\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Progressing\"}":{".":{},"f:lastTransitionTime":{},"f:lastUpdateTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:observedGeneration":{},"f:readyReplicas":{},"f:replicas":{},"f:updatedReplicas":{}}},"subresource":"status"}]},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"bot-deployment"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"bot-deployment"}},"spec":{"containers":[{"name":"nginx","image":"nginx","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":"25%","maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{"observedGeneration":1,"replicas":1,"updatedReplicas":1,"readyReplicas":1,"availableReplicas":1,"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2024-12-08T18:40:58Z","lastTransitionTime":"2024-12-08T18:40:48Z","reason":"NewReplicaSetAvailable","message":"ReplicaSet \"bot-deployment-66d64568bb\" has successfully progressed."},{"type":"Available","status":"True","lastUpdateTime":"2024-12-09T18:30:10Z","lastTransitionTime":"2024-12-09T18:30:10Z","reason":"MinimumReplicasAvailable","message":"Deployment has minimum availability."}]}}

2024-12-09 16:18:27,954 INFO - Label selector for deployment 'bot-deployment': app=bot-deployment
2024-12-09 16:18:27,963 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56841"},"items":[{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:18:27,966 INFO - Pods found for deployment 'bot-deployment': ['bot-deployment-66d64568bb-mc4h2']
2024-12-09 16:18:27,967 INFO - Generated answer: bot-deployment
2024-12-09 16:18:27,968 INFO - 127.0.0.1 - - [09/Dec/2024 16:18:27] "POST /query HTTP/1.1" 200 -
2024-12-09 16:18:27,971 INFO - Received query: What is?
2024-12-09 16:18:27,971 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:18:27,971 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"What is?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:18:29,970 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=1666 request_id=req_2c9b29c46c64b64dc983c5f08f4fc8d9 response_code=200
2024-12-09 16:18:29,970 INFO - GPT-4 Response: {
    "intents": {
        "pods": false,
        "namespace": false,
        "status": false,
        "deployments": false,
        "logs": false
    },
    "keywords": []
}
2024-12-09 16:18:29,971 INFO - Extracted Kubernetes Names: ['what']
2024-12-09 16:18:29,971 WARNING - Keywords extracted using fallback regex method.
2024-12-09 16:18:29,971 INFO - Parsed Intents: {'pods': False, 'namespace': False, 'status': False, 'deployments': False, 'logs': False}
2024-12-09 16:18:29,971 INFO - Parsed Keywords: ['what']
2024-12-09 16:18:29,971 INFO - Generated answer: I'm sorry, I couldn't understand your query. Please try rephrasing.
2024-12-09 16:18:29,971 INFO - 127.0.0.1 - - [09/Dec/2024 16:18:29] "POST /query HTTP/1.1" 200 -
2024-12-09 16:18:29,975 INFO - Received query: 
2024-12-09 16:18:29,975 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:18:29,975 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:18:33,428 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=3302 request_id=req_740fa42c29beadbd72e5778fc59d1871 response_code=200
2024-12-09 16:18:33,428 INFO - GPT-4 Response: {
    "intents": {
        "pods": false,
        "namespace": false,
        "status": false,
        "deployments": false,
        "logs": false
    },
    "keywords": []
}
2024-12-09 16:18:33,428 INFO - Extracted Kubernetes Names: []
2024-12-09 16:18:33,428 WARNING - Keywords extracted using fallback regex method.
2024-12-09 16:18:33,428 INFO - Parsed Intents: {'pods': False, 'namespace': False, 'status': False, 'deployments': False, 'logs': False}
2024-12-09 16:18:33,428 INFO - Parsed Keywords: []
2024-12-09 16:18:33,428 INFO - Generated answer: I'm sorry, I couldn't understand your query. Please try rephrasing.
2024-12-09 16:18:33,429 INFO - 127.0.0.1 - - [09/Dec/2024 16:18:33] "POST /query HTTP/1.1" 200 -
2024-12-09 16:18:33,433 INFO - Received query: How many pods are running in the namespace dev?
2024-12-09 16:18:33,433 DEBUG - message='Request to OpenAI API' method=post path=https://api.openai.com/v1/chat/completions
2024-12-09 16:18:33,433 DEBUG - api_version=None data='{"model": "gpt-4", "messages": [{"role": "user", "content": "\\n    Parse the following query into intents and keywords. \\n    Intents should be structured as a dictionary indicating True/False for the following categories: pods, namespace, status, deployments, logs.\\n    Keywords should be a list of extracted Kubernetes-related terms or resource names.\\n\\n    Query: \\"How many pods are running in the namespace dev?\\"\\n\\n    Respond with a JSON object directly, without Markdown formatting or code blocks, in the following structure:\\n    {\\n        \\"intents\\": {\\n            \\"pods\\": bool,\\n            \\"namespace\\": bool,\\n            \\"status\\": bool,\\n            \\"deployments\\": bool,\\n            \\"logs\\": bool\\n        },\\n        \\"keywords\\": [list of keywords]\\n    }\\n    "}]}' message='Post details'
2024-12-09 16:18:35,824 DEBUG - message='OpenAI API response' path=https://api.openai.com/v1/chat/completions processing_ms=2199 request_id=req_4a707065bf6ae43b05d98be24f0f9d2d response_code=200
2024-12-09 16:18:35,824 INFO - GPT-4 Response: {
    "intents": {
        "pods": true,
        "namespace": true,
        "status": true,
        "deployments": false,
        "logs": false
    },
    "keywords": ["pods", "running", "namespace", "dev"]
}
2024-12-09 16:18:35,825 INFO - Parsed Intents: {'pods': True, 'namespace': True, 'status': True, 'deployments': False, 'logs': False}
2024-12-09 16:18:35,825 INFO - Parsed Keywords: ['pods', 'running', 'namespace', 'dev']
2024-12-09 16:18:35,835 DEBUG - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"56848"},"items":[{"metadata":{"name":"apple","namespace":"default","uid":"eb4be5c6-2187-424d-8786-94273caa533f","resourceVersion":"52777","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app1"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app1\"},\"name\":\"apple\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"nginx:1.21.6\",\"name\":\"container1\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container1\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.67\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-hlzcw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container1","image":"nginx:1.21.6","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-hlzcw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.67","podIPs":[{"ip":"10.244.0.67"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container1","state":{"running":{"startedAt":"2024-12-09T20:55:12Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://7b316c3472e08859a1423f7bf838b977b7ffabcb6031edba94fda9d24b49c9be"}},"ready":true,"restartCount":10,"image":"nginx:1.21.6","imageID":"docker-pullable://nginx@sha256:2bcabc23b45489fb0885d69a06ba1d648aeda973fae7bb981bafbb884165e514","containerID":"docker://895a39d42c34c1d64e29e2a9b93edef46aee8f18e44b6a35fa3ed0fcb39fea20","started":true,"volumeMounts":[{"name":"kube-api-access-hlzcw","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"bot-deployment-66d64568bb-mc4h2","generateName":"bot-deployment-66d64568bb-","namespace":"default","uid":"e5e47232-9053-4bdd-a573-6ce40d5c0e9a","resourceVersion":"52806","creationTimestamp":"2024-12-08T18:40:48Z","labels":{"app":"bot-deployment","pod-template-hash":"66d64568bb"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"bot-deployment-66d64568bb","uid":"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:48Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f9636762-8a26-4fde-a2fc-fe6cdc0cffc0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"nginx\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.70\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-4nb74","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"nginx","image":"nginx","resources":{},"volumeMounts":[{"name":"kube-api-access-4nb74","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:18Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:48Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.70","podIPs":[{"ip":"10.244.0.70"}],"startTime":"2024-12-08T18:40:48Z","containerStatuses":[{"name":"nginx","state":{"running":{"startedAt":"2024-12-09T20:55:17Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:14Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5131353a6e46750b7f714854c797a20c6d86e2b8dcf1c8ec89ea54bda09f6bcf"}},"ready":true,"restartCount":7,"image":"nginx:latest","imageID":"docker-pullable://nginx@sha256:fb197595ebe76b9c0c14ab68159fd3c08bd067ec62300583543f0ebda353b5be","containerID":"docker://fefd4207f5d876a01e94d6eb4f299916e04a4b377fd3286c5f472d0bc24572ce","started":true,"volumeMounts":[{"name":"kube-api-access-4nb74","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"orange","namespace":"default","uid":"afec77fc-8ede-4af6-9280-834023f56049","resourceVersion":"52797","creationTimestamp":"2024-12-07T22:31:36Z","labels":{"app":"app2"},"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"kind\":\"Pod\",\"metadata\":{\"annotations\":{},\"labels\":{\"app\":\"app2\"},\"name\":\"orange\",\"namespace\":\"default\"},\"spec\":{\"containers\":[{\"image\":\"httpd:2.4\",\"name\":\"container2\",\"ports\":[{\"containerPort\":80}]}]}}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-12-07T22:31:36Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}},"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"container2\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":80,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.69\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jfn99","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"container2","image":"httpd:2.4","ports":[{"containerPort":80,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-jfn99","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:14Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-07T22:31:36Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.69","podIPs":[{"ip":"10.244.0.69"}],"startTime":"2024-12-07T22:31:36Z","containerStatuses":[{"name":"container2","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://a3bd61c8956ce31dfefb22a25e142a765ef63a601a4a2b8efe668d9cfbf14185"}},"ready":true,"restartCount":10,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://163d7e570a88da42df5491c21b332b33c58dc3fb372c07dcd6e221f5be9f8941","started":true,"volumeMounts":[{"name":"kube-api-access-jfn99","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}},{"metadata":{"name":"website-deployment-dbc8b97cd-9ndzm","generateName":"website-deployment-dbc8b97cd-","namespace":"default","uid":"bf33556c-4c4b-4ef0-b06b-e2c4589428b4","resourceVersion":"52792","creationTimestamp":"2024-12-08T18:40:56Z","labels":{"app":"website-deployment","pod-template-hash":"dbc8b97cd"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"website-deployment-dbc8b97cd","uid":"ad58dc6f-d54a-4fe8-bae3-d43d258b3220","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-12-08T18:40:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ad58dc6f-d54a-4fe8-bae3-d43d258b3220\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"httpd\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-12-09T20:55:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"PodReadyToStartContainers\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:hostIPs":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.0.66\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-fdrcz","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"httpd","image":"httpd","resources":{},"volumeMounts":[{"name":"kube-api-access-fdrcz","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"minikube","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"PodReadyToStartContainers","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-09T20:55:16Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-12-08T18:40:56Z"}],"hostIP":"192.168.49.2","hostIPs":[{"ip":"192.168.49.2"}],"podIP":"10.244.0.66","podIPs":[{"ip":"10.244.0.66"}],"startTime":"2024-12-08T18:40:56Z","containerStatuses":[{"name":"httpd","state":{"running":{"startedAt":"2024-12-09T20:55:13Z"}},"lastState":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-12-09T20:10:19Z","finishedAt":"2024-12-09T20:54:48Z","containerID":"docker://5050bd4dc189e950abceb0dd30d46413b203dcb65ac3c4ae767d2708e1514c58"}},"ready":true,"restartCount":7,"image":"httpd:2.4","imageID":"docker-pullable://httpd@sha256:f4c5139eda466e45814122d9bd8b886d8ef6877296126c09b76dbad72b03c336","containerID":"docker://93fd925630a021bbf3aea1691c3a8bc3db9f47d15dcebc7ffc072628be3d03fc","started":true,"volumeMounts":[{"name":"kube-api-access-fdrcz","mountPath":"/var/run/secrets/kubernetes.io/serviceaccount","readOnly":true,"recursiveReadOnly":"Disabled"}]}],"qosClass":"BestEffort"}}]}

2024-12-09 16:18:35,847 INFO - Generated answer: 4 pods in the default namespace.
2024-12-09 16:18:35,848 INFO - 127.0.0.1 - - [09/Dec/2024 16:18:35] "POST /query HTTP/1.1" 200 -
